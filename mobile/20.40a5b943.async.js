(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{g3xg:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("oByq");var o=l(a("Wx4G"));a("Pwec");var d=l(a("CtXQ"));a("HVTF");var s=l(a("OT5E")),r=l(a("lwsE")),u=l(a("W8MJ")),i=l(a("a1gu")),c=l(a("Nsbk")),f=l(a("7W2i")),p=l(a("MVZn"));a("e3Tq");var m,h,S=l(a("n+tp")),y=n(a("q1tI")),g=a("MuoO"),E=l(a("5+h1")),v=S.default.Item,x=(m=(0,g.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,p.default)({},t,{querying:a.effects["renewmodel/get"]})}),m(h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(n))),a.reLoadDiagnosis=function(){var e=a.props,t=e.cardInfo,l=e.stopReason,n=e.sessionStatus,o=e.gprsStatus;a.loadDiagnosis(),l||a.loadStopReason(!0),n||a.loadSessionStatus(!0),o||a.loadGprsStatus(!0),t&&(t.imei||a.loadImei(!0),t.statusTxt||a.loadStatus(!0),t.wStateTxt||a.loadTerminalStatus(!0))},a.loadDiagnosis=function(){var e=a.props,t=e.match.params.id,l=e.dispatch;t&&(s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),l({type:"renewmodel/queryDiagnosis",payload:t}).then(function(){s.default.hide()}))},a.loadStatus=function(e){var t=a.props,l=t.dispatch,n=t.match.params.id;s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),n&&l({type:"renewmodel/queryStatus",payload:{id:n,auto:e}}).then(function(){s.default.hide()})},a.loadSessionStatus=function(e){var t=a.props,l=t.dispatch,n=t.match.params.id;n&&(s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),l({type:"renewmodel/querySessionStatus",payload:{id:n,auto:e}}).then(function(){s.default.hide()}))},a.loadTerminalStatus=function(e){var t=a.props,l=t.dispatch,n=t.match.params.id;n&&(s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),l({type:"renewmodel/queryTerminalStatus",payload:{id:n,auto:e}}).then(function(){s.default.hide()}))},a.loadGprsStatus=function(e){var t=a.props,l=t.match.params.id,n=t.dispatch;l&&(s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),n({type:"renewmodel/queryGprsStatus",payload:{id:l,auto:e}}).then(function(){s.default.hide()}))},a.loadStopReason=function(e){var t=a.props,l=t.match.params.id,n=t.dispatch;l&&(s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),n({type:"renewmodel/queryStopReason",payload:{id:l,auto:e}}).then(function(){s.default.hide()}))},a.loadImei=function(e){var t=a.props,l=t.match.params.id,n=t.dispatch;l&&(s.default.loading("\u6570\u636e\u67e5\u8be2\u4e2d..."),n({type:"renewmodel/queryImei",payload:{id:l,auto:e}}).then(function(){s.default.hide()}))},a.onRefresh=function(e){var t=a.state.msisdn;if(!t||t.length<11)s.default.fail("\u8bf7\u8f93\u5165SIM/IMSI/ICCID",1,null,!1);else switch(e){case"loadStatus":a.loadStatus();break;case"loadSessionStatus":a.loadSessionStatus();break;case"loadTerminalStatus":a.loadTerminalStatus();break;default:break}},a.getColor=function(e){return"\u5f00"===e||"\u5728\u7ebf"===e||"\u5f00\u673a"===e||"\u5df2\u6fc0\u6d3b"===e?"green":"\u5173"===e||"\u79bb\u7ebf"===e||"\u5173\u673a"===e||"\u5df2\u5230\u671f"===e||"\u5df2\u505c\u673a"===e||"\u5df2\u505c\u7528"===e||"\u9884\u9500\u6237"===e||"\u5df2\u9500\u6237"===e||"\u5df2\u62c6\u673a"===e||"\u5df2\u5931\u6548"===e||"\u8fbe\u91cf\u65ad\u7f51"===e||"\u8fbe\u91cf\u505c\u673a"===e||"\u5230\u671f\u65ad\u7f51"===e||"\u5230\u671f\u505c\u673a"===e||"\u4eba\u5de5\u65ad\u7f51"===e||"\u4eba\u5de5\u505c\u673a"===e||"\u505c\u673a"===e?"red":"\u5f85\u6fc0\u6d3b"===e?"blue":""},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.reLoadDiagnosis()}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearDiagnosis"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.cardInfo,l=t.sessionStatus,n=t.diagnosisInfo,s=t.gprsStatus,r=t.stopReason,u=a||{},i=u.statusTxt||"--",c=u.opStateTxt||"--";u&&4860===u.bNo&&1===u.closed&&u.uPFlow>=u.tPFlow&&(i="\u6b20\u8d39\u6ce8\u9500"),u&&1===u.opState&&(c="\u65e0");var f=[{info:y.default.createElement("span",{style:{color:this.getColor(i)}},i),text:"\u5361\u72b6\u6001",click:"loadStatus"},{info:y.default.createElement("span",{style:{color:this.getColor(u.wStateTxt)}},u.wStateTxt||"\u672a\u77e5"),text:"\u8bbe\u5907\u72b6\u6001",click:"loadTerminalStatus"},{info:y.default.createElement("span",{style:{color:this.getColor(l)}},l||"\u672a\u77e5"),text:"\u5728\u7ebf\u72b6\u6001",click:"loadSessionStatus"},{info:y.default.createElement("span",{style:{color:this.getColor(c)}},c),text:"\u64cd\u4f5c\u72b6\u6001",click:""}];return y.default.createElement("div",null,y.default.createElement("div",{className:E.default.header},y.default.createElement("div",{className:E.default.flexcontainer},y.default.createElement(S.default,{className:E.default.amlistextra},y.default.createElement(v,{extra:y.default.createElement("span",{className:E.default.flexSpan,style:{fontSize:14,color:"#000"}},u.msisdn),align:"top",multipleLine:!0},y.default.createElement("span",{className:E.default.cardHeaderTitle},"SIM\u5361\uff1a"))),y.default.createElement(o.default,{data:f,columnNum:4,className:E.default.grid,style:{height:"20px"},itemStyle:{height:50,padding:0},renderItem:function(t){return y.default.createElement("div",{style:{fontSize:"12px",height:"100%"}},y.default.createElement("div",{style:{color:"#A9ACB1",fontSize:"10px",height:"40%"}},y.default.createElement("span",null,t.text)),y.default.createElement("div",{style:{color:"#000000",paddingTop:5}},t.info,t.click&&y.default.createElement("span",{className:E.default.flexSpan},y.default.createElement(d.default,{type:"reload",size:"lg",style:{marginLeft:10,color:"#0182CD"},onClick:function(){return e.onRefresh(t.click)}}))))}}))),y.default.createElement("div",{className:E.default.container},y.default.createElement(S.default,{className:E.default.amlistextra},y.default.createElement(v,{extra:y.default.createElement("span",{style:{color:this.getColor(s||"--")}},s||"--")},"\u901a\u4fe1\u529f\u80fd\uff1a"),y.default.createElement(v,{extra:y.default.createElement("span",null,u.imei||"--",y.default.createElement("span",{className:E.default.flexSpan},y.default.createElement(d.default,{type:"reload",size:"lg",style:{marginLeft:10,color:"#0182CD"},onClick:function(){return e.loadImei(!1)}})))},"IMEI\uff1a"),y.default.createElement(v,{extra:y.default.createElement("span",null,n.apn||"--",y.default.createElement(d.default,{type:"reload",size:"lg",style:{marginLeft:10,color:"#0182CD"},onClick:function(){return e.loadDiagnosis()}}))},"APN\u540d\u79f0\uff1a"),y.default.createElement(v,{extra:y.default.createElement("span",{style:{color:this.getColor(n.status||"--")}},n.status||"--")},"\u4f1a\u8bdd\u72b6\u6001\uff1a"),y.default.createElement(v,{extra:n.createDate||"--"},"\u6700\u8fd1\u4f1a\u8bdd\uff1a"),y.default.createElement(v,{extra:n.rat||"--"},"\u7f51\u7edc\u7c7b\u578b\uff1a"),y.default.createElement(v,{extra:n.ip||"--"},"IPv4\uff1a"),y.default.createElement(v,{extra:n.ipv6||"--"},"IPv6\uff1a"),y.default.createElement(v,{extra:r||"--"},"\u505c\u673a\u539f\u56e0\uff1a"))))}}]),t}(y.Component))||h),w=x;t.default=w}}]);