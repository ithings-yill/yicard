(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{IMyN:function(e,t,n){"use strict";var o=n("TqRt"),a=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("HVTF");var l,r,u=o(n("OT5E")),i=o(n("lwsE")),d=o(n("W8MJ")),f=o(n("a1gu")),c=o(n("Nsbk")),s=o(n("7W2i")),p=o(n("MVZn")),m=a(n("q1tI")),v=n("MuoO"),w=(l=(0,v.connect)(function(e){var t=e.renewmodel,n=e.loading;return(0,p.default)({},t,{querying:n.effects["renewmodel/get"]})}),l(r=function(e){function t(e){var n;return(0,i.default)(this,t),n=(0,f.default)(this,(0,c.default)(t).call(this,e)),n.toLink=function(e){window.location.href=e},n.state={qrCode:null},n}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props,n=t.match.params.id,o=t.location.query,a=t.dispatch;if(n){if(n.length<11||n.length>30||!new RegExp("^[A-Za-z0-9]+$").test(n))return void u.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);if(!o||!o.pkgNo)return void u.default.fail("\u53c2\u6570\u9519\u8bef");a({type:"renewmodel/checkCard",payload:n}).then(function(){var t=e.props.card;t?(u.default.loading("\u5904\u7406\u4e2d..."),a({type:"renewmodel/renew",payload:{msisdn:n,pkgNo:o.pkgNo,count:o.count||1,business:!1,effImm:o.effImm||1}})):u.default.fail("\u7269\u8054\u5361\u53f7\u4e0d\u5b58\u5728")})}}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this.state.qrCode;return m.default.createElement("div",null,e?m.default.createElement(m.Fragment,null,this.toLink(e)):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.renewData,o=t.qrCode;return n&&o!==n?{qrCode:n}:null}}]),t}(m.Component))||r),h=w;t.default=h}}]);