(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{Vy52:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("jCWc");var r=l(a("kPKH"));a("QE6f");var u=l(a("Xo8F"));a("HVTF");var c=l(a("OT5E")),d=l(a("2Taf")),i=l(a("vZ4D")),f=l(a("MhPg")),o=l(a("l4Ni")),s=l(a("ujKo")),m=l(a("p0pE"));a("puyI");var p,v,h=l(a("xZH1")),g=P(a("q1tI")),y=a("MuoO"),E=a("Y3KF"),N=l(a("ZhIB")),b=l(a("5+h1")),w=l(a("q2qD")),k=l(a("54rv")),T=l(a("1GfE"));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var u=n?Object.getOwnPropertyDescriptor(e,r):null;u&&(u.get||u.set)?Object.defineProperty(l,r,u):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function x(e){var t=A();return function(){var a,l=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var I=h.default.alert,O=(p=(0,y.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,m.default)({},t,{querying:a.effects["renewmodel/get"]})}),p(v=function(e){(0,f.default)(a,e);var t=x(a);function a(e){var l;return(0,d.default)(this,a),l=t.call(this,e),l.onSearch=function(e){var t=l.state.business,a=l.props.dispatch;if(e){if(e.length<11||e.length>30||!new RegExp("^[A-Za-z0-9]+$").test(e))return void c.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);c.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d..."),a({type:"renewmodel/getCloudPackage",payload:{msisdn:e,business:t}}).then(function(){c.default.hide()}),a({type:"renewmodel/get",payload:{cNo:e}}).then(function(){c.default.hide()})}},l.isActive=function(e){var t=l.state.count;return t===e},l.setActiveTab=function(e){l.setState({count:e})},l.toLink=function(e){window.location.href=e},l.getImg=function(e){return 3===e?T.default:2===e?k.default:w.default},l.onSubmit=function(){var e=l.props,t=e.match.params.id,a=e.cloudPackages,n=l.state.count;if(a&&a.id){var r=l.props.dispatch,u="\u4e00\u5e74\u670d\u52a1";switch(n){case 2:u="\u4e8c\u5e74\u670d\u52a1";break;case 3:u="\u4e09\u5e74\u670d\u52a1";break;case 6:u="\u7ec8\u8eab\u670d\u52a1";break;default:u="\u4e00\u5e74\u670d\u52a1";break}I("\u8ba2\u8d2d\u670d\u52a1","\u786e\u5b9a\u8ba2\u8d2d\u3010".concat(u,"\u3011\u5417\uff1f"),[{text:"\u53d6\u6d88"},{text:"\u786e\u8ba4",onPress:function(){c.default.loading("\u8ba2\u8d2d\u4e2d..."),r({type:"renewmodel/renewCloud",payload:{cNo:t,basePkg:{pkgNo:a.id,count:n}}}).then(function(){c.default.hide()})}}])}else c.default.info("\u8bf7\u9009\u62e9\u670d\u52a1\uff01",1,null,!1)},l.state={qrCode:null,business:!1,count:1},l}return(0,i.default)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.match.params.id;e&&this.onSearch(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.cardInfo,l=t.cloudPackages,c=this.state,d=c.qrCode,i=c.count,f={price:"-",pPeriod:"-",note:"",count:1};f.price=60,f.pPeriod=12,l&&(f=l);var o="".concat((0,N.default)((f.price||0)*i).format("0,0.00"))||"-";return g.default.createElement("div",{style:{height:"100%"}},d?g.default.createElement(g.Fragment,null,this.toLink(d)):g.default.createElement("div",{style:{height:"100%"}},g.default.createElement("div",{className:b.default.header,style:{paddingBottom:20,borderBottom:"2px solid #F5F5F9"}},g.default.createElement("div",{className:b.default.flexcontainer},g.default.createElement(u.default,{className:b.default.felxBg},g.default.createElement(u.default.Item,{className:b.default.felxImg},g.default.createElement("img",{src:this.getImg(a.oType),alt:"",className:b.default.imgWidth})),g.default.createElement(u.default.Item,{className:b.default.felxSpan},g.default.createElement("div",{className:b.default.felxItem},g.default.createElement("span",{className:b.default.cardHeaderTitle},"\u8d44\u8d39\uff1a"),g.default.createElement("span",{className:b.default.flexSpan},"\uffe5",o,"\u5143")),g.default.createElement("div",{className:b.default.felxItem},g.default.createElement("span",{className:b.default.cardHeaderTitle},"\u6709\u6548\u671f\uff1a"),g.default.createElement("span",{className:b.default.flexSpan},6===i?"\u7ec8\u8eab":"".concat(i,"\u5e74"))))))),g.default.createElement("div",{style:{paddingTop:140,height:"100%"}},g.default.createElement(E.StickyContainer,null,g.default.createElement("div",{style:{paddingLeft:20,paddingBottom:10,color:"#0E76C7",fontSize:15}},"\u670d\u52a1\u7c7b\u578b\uff1a"),g.default.createElement("div",{className:b.default.gutterexample},g.default.createElement(n.default,{gutter:2},g.default.createElement(r.default,{className:b.default.gutterrow,span:12},g.default.createElement("div",{className:this.isActive(1)?b.default.placeholderActive:b.default.placeholder,onClick:function(){return e.setActiveTab(1)}},g.default.createElement("div",{className:b.default.info,style:{height:"50%",marginTop:-10}},"\u4e00\u5e74\u670d\u52a1"),g.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",1*f.price,"\u5143"))),g.default.createElement(r.default,{className:b.default.gutterrow,span:12},g.default.createElement("div",{className:this.isActive(2)?b.default.placeholderActive:b.default.placeholder,onClick:function(){return e.setActiveTab(2)}},g.default.createElement("div",{className:b.default.info,style:{height:"50%",marginTop:-10}},"\u4e8c\u5e74\u670d\u52a1"),g.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",2*f.price,"\u5143")))),g.default.createElement(n.default,{gutter:2},g.default.createElement(r.default,{className:b.default.gutterrow,span:12},g.default.createElement("div",{className:this.isActive(3)?b.default.placeholderActive:b.default.placeholder,onClick:function(){return e.setActiveTab(3)}},g.default.createElement("div",{className:b.default.info,style:{height:"50%",marginTop:-10}},"\u4e09\u5e74\u670d\u52a1"),g.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",3*f.price,"\u5143"))),g.default.createElement(r.default,{className:b.default.gutterrow,span:12},g.default.createElement("div",{className:this.isActive(6)?b.default.placeholderActive:b.default.placeholder,onClick:function(){return e.setActiveTab(6)}},g.default.createElement("div",{className:b.default.info,style:{height:"50%",marginTop:-10}},"\u7ec8\u8eab\u670d\u52a1"),g.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",6*f.price,"\u5143"))))))),g.default.createElement("div",{className:b.default.paybottom},g.default.createElement(n.default,null,g.default.createElement(r.default,{span:12,className:b.default.paybottomtip},g.default.createElement("div",{className:b.default.paybottomlefttop},a.msisdn||"-"),g.default.createElement("div",{className:b.default.voicebottomleft},"ICCID\uff1a",a.iccid||"-"),g.default.createElement("div",{className:b.default.voicebottomleft},"IMSI\uff1a",a.imsi||"-")),g.default.createElement(r.default,{span:12,className:2===a.oType?b.default.paybtnlt:b.default.paybtnyd,onClick:this.onSubmit},o,",\u7acb\u5373\u4ed8\u6b3e")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.renewCloudData,l=t.qrCode;return a&&l!==a?{qrCode:a}:null}}]),a}(g.Component))||v),S=O;t.default=S}}]);