(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{LWdW:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DR4Q");var l=n(a("gumZ"));a("R9oj");var r=n(a("ECub"));a("MXD1");var d=n(a("CFYs"));a("Telt");var u=n(a("Tckk"));a("14J3");var s=n(a("BMrR"));a("jCWc");var c=n(a("kPKH"));a("HVTF");var f=n(a("OT5E")),i=n(a("2Taf")),o=n(a("vZ4D")),p=n(a("MhPg")),m=n(a("l4Ni")),v=n(a("ujKo")),g=n(a("p0pE"));a("puyI");var w,E,x=n(a("xZH1")),h=T(a("q1tI")),y=a("MuoO"),N=n(a("q2qD")),k=n(a("54rv")),b=n(a("1GfE")),I=n(a("TSYQ")),P=n(a("lYt8"));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var d=l?Object.getOwnPropertyDescriptor(e,r):null;d&&(d.get||d.set)?Object.defineProperty(n,r,d):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function D(e){var t=M();return function(){var a,n=(0,v.default)(e);if(t){var l=(0,v.default)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var R="\u52a0\u6cb9\u5145\u503c",F=x.default.alert,S=(w=(0,y.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,g.default)({},t,{querying:a.effects["renewmodel/get"]})}),w(E=function(e){(0,p.default)(a,e);var t=D(a);function a(){var e;(0,i.default)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),e.state={qrCode:null,msisdn:null,selectId:0},e.loadData=function(t){var a=e.props.dispatch;if(t){if(t.length<11||t.length>30||!new RegExp("^[A-Za-z0-9]+$").test(t))return void f.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);f.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d..."),a({type:"renewmodel/get",payload:{cNo:t}}),a({type:"renewmodel/getpackage",payload:{msisdn:t,business:!1}}).then(function(){f.default.hide()})}},e.getImg=function(e){return 3===e?b.default:2===e?k.default:N.default},e.onSubmit=function(t,a){var n=e.state.msisdn,l=e.props.dispatch;n&&(e.setState({selectId:t}),F("\u8d2d\u4e70\u5957\u9910","\u786e\u5b9a\u8d2d\u4e70[".concat(a,"]\u5957\u9910"),[{text:"\u53d6\u6d88",onPress:function(){e.setState({selectId:null})}},{text:"\u786e\u5b9a",onPress:function(){return l({type:"renewmodel/renew",payload:{msisdn:n,pkgNo:t,business:!1}})}}]))},e.toLink=function(e){window.location.href=e},e.onTabClick=function(t){if(1===t){f.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d...");var a=e.state.msisdn;window.location.href="../../packagelist/".concat(a)}},e.getRow=function(t){for(var a=e.state.selectId,n=[],l=2,r=function(t,n){return h.default.createElement(s.default,{key:n,align:"top",type:"flex"},t.map(function(t){return h.default.createElement(c.default,{span:12,key:t.id,className:P.default.col},h.default.createElement("div",{className:a===t.id?(0,I.default)(P.default.info,P.default.selectInfo):P.default.info,onClick:function(){return e.onSubmit(t.id,t.pName)}},h.default.createElement("div",{className:(0,I.default)(P.default.title,P.default.price)},"\u552e\u4ef7\uff1a",(t.renewPrice||0).toFixed(2),"\u5143"),h.default.createElement("div",{className:P.default.title},t.pName||"--"),h.default.createElement("div",{className:P.default.period},"\u670d\u52a1\u671f",t.pPeriod?parseInt(t.pPeriod,10)||0:"-","\u4e2a",0===t.periodUnit?"\u6708":"\u65e5")),h.default.createElement("div",{className:P.default.remark},t.remark||" "))}))},d=0;d<t.length;d+=l){var u=t.slice(d,d+l);if(u&&u.length>0){var f=r(u,d);n.push(f)}}return n},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.match.params.id;this.setState({msisdn:e}),this.loadData(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this,t=this.state.qrCode,a=this.props,n=a.cardInfo,f=a.packages,i=Math.round((n.uPFlow||0)/(n.tPFlow||1)*100),o=f&&f[R]?f[R]:[];return t?h.default.createElement(h.Fragment,null," ",this.toLink(t)):h.default.createElement("div",{className:P.default.main},h.default.createElement("div",{className:P.default.header},h.default.createElement(s.default,{type:"flex",justify:"space-between"},h.default.createElement(c.default,{span:5,style:{textAlign:"center"}},h.default.createElement("div",{className:P.default.imgAvatar},h.default.createElement(u.default,{src:this.getImg(n&&n.oType||1),shape:"circle",className:P.default.avatar}))),h.default.createElement(c.default,{span:19},h.default.createElement(s.default,{className:P.default.baseInfo},h.default.createElement(c.default,{span:8,style:{textAlign:"right"}},"\u72b6\u6001\uff1a"),h.default.createElement(c.default,{span:16},n.statusTxt||"- -")),h.default.createElement(s.default,{className:P.default.baseInfo},h.default.createElement(c.default,{span:8,style:{textAlign:"right"}},"SIM\u5361\u53f7\uff1a"),h.default.createElement(c.default,{span:16},n.msisdn||"- -")),h.default.createElement(s.default,{className:P.default.baseInfo},h.default.createElement(c.default,{span:8,style:{textAlign:"right"}},"ICCID\u53f7\uff1a"),h.default.createElement(c.default,{span:16},n.iccid||"- -")),h.default.createElement(s.default,{className:P.default.baseInfo},h.default.createElement(c.default,{span:8,style:{textAlign:"right"}},"\u6fc0\u6d3b\u65e5\u671f\uff1a"),h.default.createElement(c.default,{span:16},n.aDateTxt||"- -")),h.default.createElement(s.default,{className:P.default.baseInfo},h.default.createElement(c.default,{span:8,style:{textAlign:"right"}},"\u5230\u671f\u65e5\u671f\uff1a"),h.default.createElement(c.default,{span:16},n.invDateTxt||"- -")))),h.default.createElement(h.Fragment,null,h.default.createElement("div",{className:P.default.progress},h.default.createElement(d.default,{percent:i,width:140,strokeWidth:7,gapDegree:50,strokeColor:"red",type:"dashboard",format:function(){return h.default.createElement("div",{className:P.default.flow},h.default.createElement("div",{className:P.default.left},h.default.createElement("div",{className:P.default.title},"\u5269\u4f59\u6d41\u91cf"),h.default.createElement("div",{className:P.default.value},n.tPFlow||0,h.default.createElement("span",{style:{fontSize:18}},"MB"))),h.default.createElement("div",{className:P.default.useFlow},h.default.createElement("div",{className:P.default.useTitle},"\u5df2\u7528\u6d41\u91cf"),h.default.createElement("div",{className:P.default.useValue},n.uPFlow||0,h.default.createElement("span",{style:{fontSize:12}},"MB"))))}})),h.default.createElement("div",{className:P.default.desc}," \u7528\u91cf\u6570\u636e\u6709\u5ef6\u8fdf\uff0c\u4ee5\u8fd0\u8425\u5546\u6570\u636e\u4e3a\u51c6"))),h.default.createElement("div",{className:P.default.content},h.default.createElement(l.default,{swipeable:!1,tabBarTextStyle:{fontWeight:600,fontSize:16},tabs:[{title:"\u5957\u9910\u5145\u503c",sub:0},{title:"\u5145\u503c\u8bb0\u5f55",sub:1}],initialPage:0,onChange:function(t,a){e.onTabClick(a)},onTabClick:function(t,a){e.onTabClick(a)}},h.default.createElement("div",{className:P.default.tabContent},h.default.createElement("div",{className:P.default.products_title},h.default.createElement("span",{className:P.default.line}),h.default.createElement("span",{className:P.default.txt},h.default.createElement("div",null,"\u8d2d\u673a\u8d60\u9001\u4e00\u5e74\u589e\u503c\u670d\u52a1"),h.default.createElement("div",null,"\u7b2c\u4e8c\u5e74\u8d77\u6309\u4ee5\u4e0b\u5957\u9910\u5145\u503c")),h.default.createElement("span",{className:P.default.line})),h.default.createElement("div",{className:P.default.package},f?h.default.createElement(h.Fragment,null,this.getRow(o)):h.default.createElement(r.default,{image:r.default.PRESENTED_IMAGE_SIMPLE})))),h.default.createElement("div",{className:P.default.footer},h.default.createElement(s.default,{className:P.default.footRemark},h.default.createElement(c.default,{span:1,className:P.default.title},"\u6ce8:"),h.default.createElement(c.default,{span:23,style:{paddingLeft:2}},h.default.createElement("div",{className:P.default.desc},"\u2460\u4ee5\u4e0a\u8d44\u8d39\u53ef\u80fd\u7531\u4e8e\u653f\u7b56\u56e0\u7d20\u8fdb\u884c\u8c03\u6574\uff0c\u5177\u4f53\u4ee5\u5b9e\u9645\u8d44\u8d39\u4e3a\u51c6\uff1b"),h.default.createElement("div",{className:P.default.desc},"\u2461\u8d2d\u4e70\u540e\u670d\u52a1\u7acb\u5373\u751f\u6548\uff0c\u6d41\u91cf\u4e0d\u505a\u7d2f\u8ba1\uff0c\u6708\u5e95\u6e05\u96f6\uff1b"),h.default.createElement("div",{className:P.default.desc},"\u2462\u56e0\u51fa\u5382\u8c03\u8bd5\u73af\u8282\u8f83\u591a\uff0c\u670d\u52a1\u65e5\u671f\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u4ee5\u5b9e\u9645\u4e3a\u51c6\uff1b"),h.default.createElement("div",{className:P.default.desc},"\u2463\u8d2d\u4e70\u589e\u503c\u670d\u52a1\u4ec5\u53ef\u5728\u672c\u8bbe\u5907\u4f7f\u7528\uff0c\u6700\u7ec8\u89e3\u91ca\u6743\u5f52\u672c\u516c\u53f8\u6240\u6709\u3002"))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.renewData,n=t.qrCode;return a&&n!==a?{qrCode:a}:null}}]),a}(h.Component))||E),A=S;t.default=A},lYt8:function(e,t,a){e.exports={main:"antd-pro\\pages\\-renew\\-c\\-v1\\index-main",header:"antd-pro\\pages\\-renew\\-c\\-v1\\index-header",baseInfo:"antd-pro\\pages\\-renew\\-c\\-v1\\index-baseInfo",desc:"antd-pro\\pages\\-renew\\-c\\-v1\\index-desc",progress:"antd-pro\\pages\\-renew\\-c\\-v1\\index-progress",flow:"antd-pro\\pages\\-renew\\-c\\-v1\\index-flow",left:"antd-pro\\pages\\-renew\\-c\\-v1\\index-left",title:"antd-pro\\pages\\-renew\\-c\\-v1\\index-title",value:"antd-pro\\pages\\-renew\\-c\\-v1\\index-value",useFlow:"antd-pro\\pages\\-renew\\-c\\-v1\\index-useFlow",useTitle:"antd-pro\\pages\\-renew\\-c\\-v1\\index-useTitle",useValue:"antd-pro\\pages\\-renew\\-c\\-v1\\index-useValue",img:"antd-pro\\pages\\-renew\\-c\\-v1\\index-img",imgAvatar:"antd-pro\\pages\\-renew\\-c\\-v1\\index-imgAvatar",avatar:"antd-pro\\pages\\-renew\\-c\\-v1\\index-avatar",remark:"antd-pro\\pages\\-renew\\-c\\-v1\\index-remark",content:"antd-pro\\pages\\-renew\\-c\\-v1\\index-content",tabContent:"antd-pro\\pages\\-renew\\-c\\-v1\\index-tabContent",products_title:"antd-pro\\pages\\-renew\\-c\\-v1\\index-products_title",txt:"antd-pro\\pages\\-renew\\-c\\-v1\\index-txt",line:"antd-pro\\pages\\-renew\\-c\\-v1\\index-line",package:"antd-pro\\pages\\-renew\\-c\\-v1\\index-package",col:"antd-pro\\pages\\-renew\\-c\\-v1\\index-col",selectInfo:"antd-pro\\pages\\-renew\\-c\\-v1\\index-selectInfo",info:"antd-pro\\pages\\-renew\\-c\\-v1\\index-info",price:"antd-pro\\pages\\-renew\\-c\\-v1\\index-price",period:"antd-pro\\pages\\-renew\\-c\\-v1\\index-period",empty:"antd-pro\\pages\\-renew\\-c\\-v1\\index-empty",footer:"antd-pro\\pages\\-renew\\-c\\-v1\\index-footer",footRemark:"antd-pro\\pages\\-renew\\-c\\-v1\\index-footRemark"}}}]);