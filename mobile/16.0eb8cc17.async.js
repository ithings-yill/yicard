(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"bP9/":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("XGli");var n=l(a("NHyu"));a("0mAl");var r=l(a("Ng4X"));a("ufv1");var f=l(a("QYgq"));a("Pwec");var c=l(a("CtXQ"));a("QE6f");var u=l(a("Xo8F"));a("HVTF");var d=l(a("OT5E")),o=l(a("2Taf")),s=l(a("vZ4D")),i=l(a("MhPg")),m=l(a("l4Ni")),p=l(a("ujKo")),E=l(a("p0pE"));a("e3Tq");var w,y,v=l(a("n+tp")),F=C(a("q1tI")),g=a("MuoO"),h=l(a("q2qD")),N=l(a("54rv")),x=l(a("1GfE")),P=l(a("HF/w")),k=l(a("UsAz")),I=l(a("Jwi+")),b=l(a("5+h1"));function T(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var f=n?Object.getOwnPropertyDescriptor(e,r):null;f&&(f.get||f.set)?Object.defineProperty(l,r,f):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function S(e){var t=M();return function(){var a,l=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,m.default)(this,a)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}a("lIpO");var O=v.default.Item,D=(w=(0,g.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,E.default)({},t,{querying:a.effects["renewmodel/get"]})}),w(y=function(e){(0,i.default)(a,e);var t=S(a);function a(e){var l;return(0,o.default)(this,a),l=t.call(this,e),l.onSearch=function(){var e=l.props.match.params.id;if(e){l.setState({msisdn:e});var t=l.props.dispatch;if(e){if(e.length<11||e.length>30||!new RegExp("^[A-Za-z0-9]+$").test(e))return void d.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);d.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d..."),t({type:"renewmodel/get",payload:{cNo:e}}).then(function(){d.default.hide();var a=l.props.cardInfo;a&&a.city&&a.city.indexOf("59")>-1&&t({type:"renewmodel/checkordered",payload:{msisdn:e}})})}}},l.onClick=function(e,t){var a=l.state.msisdn;if(!a||a.length<11)d.default.fail("\u8bf7\u8f93\u5165SIM/IMSI/ICCID",1,null,!1);else switch(e){case"history":window.location.href="../renew/history/".concat(a);break;case"renew":window.location.href="../renew/packagelist/".concat(a);break;case"auth":window.location.href="../renew/auth/".concat(t);break;default:window.location.href="../list/".concat(a);break}},l.getImg=function(e){return 3===e?x.default:2===e?N.default:h.default},l.renderFlow=function(){var e=l.props.cardInfo,t=0;return e&&e.uPFlow&&e.tPFlow&&(t=e.uPFlow/e.tPFlow*100),F.default.createElement("div",{className:b.default.flexcontainer},F.default.createElement(u.default,{className:2===e.oType?b.default.flowPanelBg_lt:b.default.flowPanelBg},F.default.createElement(u.default.Item,{className:b.default.felxImg},F.default.createElement(I.default,{className:b.default.CircularProgressbar,percentage:t,text:"\u5df2\u7528".concat(e.uPFlow?e.uPFlow:0,"M"),background:!0,backgroundPadding:6,styles:{background:{fill:2===e.oType?"#F59F56":"#618dd2"},text:{fill:"#eee",fontSize:"12px"},path:{stroke:"#ff0"},trail:{stroke:"transparent"}}})),F.default.createElement(u.default.Item,{className:b.default.felxSpan},F.default.createElement("div",{className:b.default.felxItem},F.default.createElement(c.default,{type:"wifi",style:{color:"#FFFFFF"}}),F.default.createElement("span",{className:b.default.flowPanelTitle},"\u603b\u6d41\u91cf\uff1a"),F.default.createElement("span",{className:b.default.flowPanelContent},e.tPFlow?e.tPFlow:0,"M")),F.default.createElement("div",{className:b.default.felxItem},F.default.createElement(c.default,{type:"wifi",style:{color:"#FFFFFF"}}),F.default.createElement("span",{className:b.default.flowPanelTitle},"\u5269\u4f59\u6d41\u91cf\uff1a"),F.default.createElement("span",{className:b.default.flowPanelContent},((e.tPFlow||0)-(e.uPFlow||0)).toFixed(3),"M")))))},l.renderVoice=function(){var e=l.props.cardInfo,t=0;return e&&e.uPVoice&&e.tPVoice&&(t=e.uPVoice/e.tPVoice*100),F.default.createElement("div",{className:b.default.flexcontainer},F.default.createElement(u.default,{className:2===e.oType?b.default.flowPanelBg_lt:b.default.flowPanelBg},F.default.createElement(u.default.Item,{className:b.default.felxImg},F.default.createElement(I.default,{className:b.default.CircularProgressbar,percentage:t,text:"\u5df2\u7528".concat(e.uPVoice?e.uPVoice:0,"\u5206\u949f"),background:!0,backgroundPadding:6,styles:{background:{fill:2===e.oType?"#F59F56":"#618dd2"},text:{fill:"#eee",fontSize:"12px"},path:{stroke:"#ff0"},trail:{stroke:"transparent"}}})),F.default.createElement(u.default.Item,{className:b.default.felxSpan},F.default.createElement("div",{className:b.default.felxItem},F.default.createElement(c.default,{type:"phone",style:{color:"#FFFFFF"}}),F.default.createElement("span",{className:b.default.flowPanelTitle},"\u603b\u8bed\u97f3\uff1a"),F.default.createElement("span",{className:b.default.flowPanelContent},e.tPVoice||0,"\u5206\u949f")),F.default.createElement("div",{className:b.default.felxItem},F.default.createElement(c.default,{type:"phone",style:{color:"#FFFFFF"}}),F.default.createElement("span",{className:b.default.flowPanelTitle},"\u5269\u4f59\u8bed\u97f3\uff1a"),F.default.createElement("span",{className:b.default.flowPanelContent},(e.tPVoice||0)-(e.uPVoice||0),"\u5206\u949f")))))},l.state={msisdn:null},l}return(0,s.default)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.onSearch()}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this,t=this.props.cardInfo,a=t.statusTxt||"--",l=t.opStateTxt||"--";return t&&4860===t.bNo&&1===t.closed&&t.uPFlow>=t.tPFlow&&(a="\u6b20\u8d39\u6ce8\u9500"),t&&1===t.opState&&(l="\u65e0"),F.default.createElement("div",null,F.default.createElement("div",{className:b.default.header},F.default.createElement("div",{className:b.default.flexcontainer},F.default.createElement(u.default,{className:b.default.felxBg},F.default.createElement(u.default.Item,{className:b.default.felxImg},F.default.createElement("img",{src:this.getImg(t.oType),alt:"",className:b.default.imgWidth})),F.default.createElement(u.default.Item,{className:b.default.felxSpan},F.default.createElement("div",{className:b.default.felxItem},F.default.createElement("span",{className:b.default.cardHeaderTitle},"SIM\u5361\uff1a"),F.default.createElement("span",{className:b.default.flexSpan},t.msisdn)),F.default.createElement("div",{className:b.default.felxItem},F.default.createElement("span",{className:b.default.cardHeaderTitle},"\u5361\u72b6\u6001\uff1a"),F.default.createElement("span",{className:b.default.flexSpan},a,F.default.createElement(c.default,{type:"reload",size:"lg",style:{marginLeft:10,color:"#0182CD"},onClick:function(){return e.onSearch()}}))),F.default.createElement("div",{className:b.default.felxItem},F.default.createElement("span",{className:b.default.cardHeaderTitle},"\u64cd\u4f5c\u72b6\u6001\uff1a"),F.default.createElement("span",{className:b.default.flexSpan},l)))),F.default.createElement(f.default,{size:"lg"}))),F.default.createElement("div",{className:b.default.container},t&&t.voicePkgNo?F.default.createElement(r.default,{autoplay:!1,infinite:!0,dotActiveStyle:{backgroundColor:"#FFFF00"},dotStyle:{backgroundColor:"#FFFFFF"}},this.renderFlow(),this.renderVoice()):this.renderFlow(),F.default.createElement(v.default,{className:b.default.amlistextra},F.default.createElement(O,{extra:t.effDateTxt&&t.invDateTxt?"".concat(t.effDateTxt,"\u81f3").concat(t.invDateTxt):"--"},"\u670d\u52a1\u671f\uff1a"),F.default.createElement(O,{extra:"".concat(t.tPSms||0-(t.uPSms||0),"\u6761")},"\u5269\u4f59\u77ed\u4fe1\uff1a"),F.default.createElement(O,{extra:t.packageName||"--"},"\u4e3b\u5957\u9910\uff1a"),t.voicePkgName?F.default.createElement(O,{extra:t.voicePkgName||"--"},"\u8bed\u97f3\u5957\u9910\uff1a"):null,F.default.createElement(O,{extra:t.aDateTxt||"--"},"\u6fc0\u6d3b\u65e5\u671f\uff1a"),F.default.createElement(O,{extra:t.wStatTxte||"--"},"\u8bbe\u5907\u72b6\u6001\uff1a"),F.default.createElement(O,{extra:t.iccid},"ICCID\uff1a"),F.default.createElement(O,{extra:t.imsi},"IMSI\uff1a")),F.default.createElement(v.default,{renderHeader:function(){return"\u5386\u53f2\u6570\u636e"}},F.default.createElement(O,{thumb:P.default,arrow:"horizontal",onClick:function(){return e.onClick("history")}},F.default.createElement("span",{style:{fontSize:"14px"}},"\u8fd17\u65e5\u5185\u8fde\u63a5\u8bb0\u5f55(\u4e0d\u5305\u542b\u5f53\u65e5)")),F.default.createElement(O,{thumb:k.default,arrow:"horizontal",onClick:function(){return e.onClick("renew")}},F.default.createElement("span",{style:{fontSize:"14px"}},"\u7eed\u8d39\u8bb0\u5f55")),F.default.createElement(O,{thumb:k.default,arrow:"horizontal",onClick:function(){return e.onClick("auth",t.oType)}},F.default.createElement("span",{style:{fontSize:"14px"}},"\u5b9e\u540d\u8ba4\u8bc1"))),t.contacts?F.default.createElement(O,{align:"middle"},F.default.createElement(u.default,{className:b.default.flexcontainer},F.default.createElement(u.default.Item,{className:b.default.left},"\u670d\u52a1\u5546\uff1a"),F.default.createElement(u.default.Item,{className:b.default.right},t.contacts)),F.default.createElement(u.default,{className:b.default.flexcontainer},F.default.createElement(u.default.Item,{className:b.default.left},"\u670d\u52a1\u7535\u8bdd\uff1a"),F.default.createElement(u.default.Item,{className:b.default.right},t.tel))):null),F.default.createElement("div",{className:b.default.bottom},F.default.createElement(n.default,{style:{backgroundColor:2===t.oType?"#F17103":""},type:"primary",onClick:function(){return e.onClick("pay")}},"\u5145\u503c\u7eed\u8d39")))}}]),a}(F.Component))||y),z=D;t.default=z}}]);