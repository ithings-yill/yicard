(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{Vy52:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var d=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("QE6f");var c=l(a("Xo8F"));a("HVTF");var i=l(a("OT5E")),r=l(a("lwsE")),s=l(a("W8MJ")),f=l(a("a1gu")),o=l(a("Nsbk")),m=l(a("7W2i")),p=l(a("MVZn"));a("puyI");var h,v,g=l(a("xZH1")),E=n(a("q1tI")),y=a("MuoO"),N=a("Y3KF"),b=l(a("ZhIB")),w=l(a("5+h1")),k=l(a("q2qD")),T=l(a("54rv")),C=l(a("1GfE")),A=g.default.alert,I=(h=(0,y.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,p.default)({},t,{querying:a.effects["renewmodel/get"]})}),h(v=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,f.default)(this,(0,o.default)(t).call(this,e)),a.onSearch=function(e){var t=a.state.business,l=a.props.dispatch;if(e){if(e.length<11||e.length>30||!new RegExp("^[A-Za-z0-9]+$").test(e))return void i.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);i.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d..."),l({type:"renewmodel/getCloudPackage",payload:{msisdn:e,business:t}}).then(function(){i.default.hide()}),l({type:"renewmodel/get",payload:{cNo:e}}).then(function(){i.default.hide()})}},a.isActive=function(e){var t=a.state.count;return t===e},a.setActiveTab=function(e){a.setState({count:e})},a.toLink=function(e){window.location.href=e},a.getImg=function(e){return 3===e?C.default:2===e?T.default:k.default},a.onSubmit=function(){var e=a.props,t=e.match.params.id,l=e.cloudPackages,n=a.state.count;if(l&&l.id){var d=a.props.dispatch,u="\u4e00\u5e74\u670d\u52a1";switch(n){case 2:u="\u4e8c\u5e74\u670d\u52a1";break;case 3:u="\u4e09\u5e74\u670d\u52a1";break;case 6:u="\u7ec8\u8eab\u670d\u52a1";break;default:u="\u4e00\u5e74\u670d\u52a1";break}A("\u8ba2\u8d2d\u670d\u52a1","\u786e\u5b9a\u8ba2\u8d2d\u3010".concat(u,"\u3011\u5417\uff1f"),[{text:"\u53d6\u6d88"},{text:"\u786e\u8ba4",onPress:function(){i.default.loading("\u8ba2\u8d2d\u4e2d..."),d({type:"renewmodel/renewCloud",payload:{cNo:t,basePkg:{pkgNo:l.id,count:n}}}).then(function(){i.default.hide()})}}])}else i.default.info("\u8bf7\u9009\u62e9\u670d\u52a1\uff01",1,null,!1)},a.state={qrCode:null,business:!1,count:1},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.match.params.id;e&&this.onSearch(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.cardInfo,l=t.cloudPackages,n=this.state,i=n.qrCode,r=n.count,s={price:"-",pPeriod:"-",note:"",count:1};s.price=60,s.pPeriod=12,l&&(s=l);var f="".concat((0,b.default)((s.price||0)*r).format("0,0.00"))||"-";return E.default.createElement("div",{style:{height:"100%"}},i?E.default.createElement(E.Fragment,null,this.toLink(i)):E.default.createElement("div",{style:{height:"100%"}},E.default.createElement("div",{className:w.default.header,style:{paddingBottom:20,borderBottom:"2px solid #F5F5F9"}},E.default.createElement("div",{className:w.default.flexcontainer},E.default.createElement(c.default,{className:w.default.felxBg},E.default.createElement(c.default.Item,{className:w.default.felxImg},E.default.createElement("img",{src:this.getImg(a.oType),alt:"",className:w.default.imgWidth})),E.default.createElement(c.default.Item,{className:w.default.felxSpan},E.default.createElement("div",{className:w.default.felxItem},E.default.createElement("span",{className:w.default.cardHeaderTitle},"\u8d44\u8d39\uff1a"),E.default.createElement("span",{className:w.default.flexSpan},"\uffe5",f,"\u5143")),E.default.createElement("div",{className:w.default.felxItem},E.default.createElement("span",{className:w.default.cardHeaderTitle},"\u6709\u6548\u671f\uff1a"),E.default.createElement("span",{className:w.default.flexSpan},6===r?"\u7ec8\u8eab":"".concat(r,"\u5e74"))))))),E.default.createElement("div",{style:{paddingTop:140,height:"100%"}},E.default.createElement(N.StickyContainer,null,E.default.createElement("div",{style:{paddingLeft:20,paddingBottom:10,color:"#0E76C7",fontSize:15}},"\u670d\u52a1\u7c7b\u578b\uff1a"),E.default.createElement("div",{className:w.default.gutterexample},E.default.createElement(d.default,{gutter:2},E.default.createElement(u.default,{className:w.default.gutterrow,span:12},E.default.createElement("div",{className:this.isActive(1)?w.default.placeholderActive:w.default.placeholder,onClick:function(){return e.setActiveTab(1)}},E.default.createElement("div",{className:w.default.info,style:{height:"50%",marginTop:-10}},"\u4e00\u5e74\u670d\u52a1"),E.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",1*s.price,"\u5143"))),E.default.createElement(u.default,{className:w.default.gutterrow,span:12},E.default.createElement("div",{className:this.isActive(2)?w.default.placeholderActive:w.default.placeholder,onClick:function(){return e.setActiveTab(2)}},E.default.createElement("div",{className:w.default.info,style:{height:"50%",marginTop:-10}},"\u4e8c\u5e74\u670d\u52a1"),E.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",2*s.price,"\u5143")))),E.default.createElement(d.default,{gutter:2},E.default.createElement(u.default,{className:w.default.gutterrow,span:12},E.default.createElement("div",{className:this.isActive(3)?w.default.placeholderActive:w.default.placeholder,onClick:function(){return e.setActiveTab(3)}},E.default.createElement("div",{className:w.default.info,style:{height:"50%",marginTop:-10}},"\u4e09\u5e74\u670d\u52a1"),E.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",3*s.price,"\u5143"))),E.default.createElement(u.default,{className:w.default.gutterrow,span:12},E.default.createElement("div",{className:this.isActive(6)?w.default.placeholderActive:w.default.placeholder,onClick:function(){return e.setActiveTab(6)}},E.default.createElement("div",{className:w.default.info,style:{height:"50%",marginTop:-10}},"\u7ec8\u8eab\u670d\u52a1"),E.default.createElement("div",{style:{height:"50%",marginTop:-5}},"\uffe5",6*s.price,"\u5143"))))))),E.default.createElement("div",{className:w.default.paybottom},E.default.createElement(d.default,null,E.default.createElement(u.default,{span:12,className:w.default.paybottomtip},E.default.createElement("div",{className:w.default.paybottomlefttop},a.msisdn||"-"),E.default.createElement("div",{className:w.default.voicebottomleft},"ICCID\uff1a",a.iccid||"-"),E.default.createElement("div",{className:w.default.voicebottomleft},"IMSI\uff1a",a.imsi||"-")),E.default.createElement(u.default,{span:12,className:2===a.oType?w.default.paybtnlt:w.default.paybtnyd,onClick:this.onSubmit},f,",\u7acb\u5373\u4ed8\u6b3e")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.renewCloudData,l=t.qrCode;return a&&l!==a?{qrCode:a}:null}}]),t}(E.Component))||v),x=I;t.default=x}}]);