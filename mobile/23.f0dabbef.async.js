(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{LWdW:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DR4Q");var d=l(a("gumZ"));a("R9oj");var r=l(a("ECub"));a("MXD1");var s=l(a("CFYs"));a("Telt");var u=l(a("Tckk"));a("14J3");var c=l(a("BMrR"));a("jCWc");var f=l(a("kPKH"));a("HVTF");var i=l(a("OT5E")),o=l(a("lwsE")),p=l(a("W8MJ")),m=l(a("a1gu")),v=l(a("Nsbk")),g=l(a("7W2i")),E=l(a("MVZn"));a("puyI");var w,x,h=l(a("xZH1")),N=n(a("q1tI")),k=a("MuoO"),y=l(a("q2qD")),b=l(a("54rv")),I=l(a("1GfE")),C=l(a("TSYQ")),T=l(a("lYt8")),P="\u52a0\u6cb9\u5145\u503c",F=h.default.alert,S=(w=(0,k.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,E.default)({},t,{querying:a.effects["renewmodel/get"]})}),w(x=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,m.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(n))),a.state={qrCode:null,msisdn:null,selectId:0},a.loadData=function(e){var t=a.props.dispatch;if(e){if(e.length<11||e.length>30||!new RegExp("^[A-Za-z0-9]+$").test(e))return void i.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);i.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d..."),t({type:"renewmodel/get",payload:{cNo:e}}),t({type:"renewmodel/getpackage",payload:{msisdn:e,business:!1}}).then(function(){i.default.hide()})}},a.getImg=function(e){return 3===e?I.default:2===e?b.default:y.default},a.onSubmit=function(e,t){var l=a.state.msisdn,n=a.props.dispatch;l&&(a.setState({selectId:e}),F("\u8d2d\u4e70\u5957\u9910","\u786e\u5b9a\u8d2d\u4e70[".concat(t,"]\u5957\u9910"),[{text:"\u53d6\u6d88",onPress:function(){a.setState({selectId:null})}},{text:"\u786e\u5b9a",onPress:function(){return n({type:"renewmodel/renew",payload:{msisdn:l,pkgNo:e,business:!1}})}}]))},a.toLink=function(e){window.location.href=e},a.onTabClick=function(e){if(1===e){i.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d...");var t=a.state.msisdn;window.location.href="../../packagelist/".concat(t)}},a.getRow=function(e){for(var t=a.state.selectId,l=[],n=2,d=function(e,l){return N.default.createElement(c.default,{key:l,align:"top",type:"flex"},e.map(function(e){return N.default.createElement(f.default,{span:12,key:e.id,className:T.default.col},N.default.createElement("div",{className:t===e.id?(0,C.default)(T.default.info,T.default.selectInfo):T.default.info,onClick:function(){return a.onSubmit(e.id,e.pName)}},N.default.createElement("div",{className:(0,C.default)(T.default.title,T.default.price)},"\u552e\u4ef7\uff1a",(e.renewPrice||0).toFixed(2),"\u5143"),N.default.createElement("div",{className:T.default.title},e.pName||"--"),N.default.createElement("div",{className:T.default.period},"\u670d\u52a1\u671f",e.pPeriod?parseInt(e.pPeriod,10)||0:"-","\u4e2a",0===e.periodUnit?"\u6708":"\u65e5")),N.default.createElement("div",{className:T.default.remark},e.remark||" "))}))},r=0;r<e.length;r+=n){var s=e.slice(r,r+n);if(s&&s.length>0){var u=d(s,r);l.push(u)}}return l},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.match.params.id;this.setState({msisdn:e}),this.loadData(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this,t=this.state.qrCode,a=this.props,l=a.cardInfo,n=a.packages,i=Math.round((l.uPFlow||0)/(l.tPFlow||1)*100),o=n&&n[P]?n[P]:[];return t?N.default.createElement(N.Fragment,null," ",this.toLink(t)):N.default.createElement("div",{className:T.default.main},N.default.createElement("div",{className:T.default.header},N.default.createElement(c.default,{type:"flex",justify:"space-between"},N.default.createElement(f.default,{span:5,style:{textAlign:"center"}},N.default.createElement("div",{className:T.default.imgAvatar},N.default.createElement(u.default,{src:this.getImg(l&&l.oType||1),shape:"circle",className:T.default.avatar}))),N.default.createElement(f.default,{span:19},N.default.createElement(c.default,{className:T.default.baseInfo},N.default.createElement(f.default,{span:8,style:{textAlign:"right"}},"\u72b6\u6001\uff1a"),N.default.createElement(f.default,{span:16},l.statusTxt||"- -")),N.default.createElement(c.default,{className:T.default.baseInfo},N.default.createElement(f.default,{span:8,style:{textAlign:"right"}},"SIM\u5361\u53f7\uff1a"),N.default.createElement(f.default,{span:16},l.msisdn||"- -")),N.default.createElement(c.default,{className:T.default.baseInfo},N.default.createElement(f.default,{span:8,style:{textAlign:"right"}},"ICCID\u53f7\uff1a"),N.default.createElement(f.default,{span:16},l.iccid||"- -")),N.default.createElement(c.default,{className:T.default.baseInfo},N.default.createElement(f.default,{span:8,style:{textAlign:"right"}},"\u6fc0\u6d3b\u65e5\u671f\uff1a"),N.default.createElement(f.default,{span:16},l.aDateTxt||"- -")),N.default.createElement(c.default,{className:T.default.baseInfo},N.default.createElement(f.default,{span:8,style:{textAlign:"right"}},"\u5230\u671f\u65e5\u671f\uff1a"),N.default.createElement(f.default,{span:16},l.invDateTxt||"- -")))),N.default.createElement(N.Fragment,null,N.default.createElement("div",{className:T.default.progress},N.default.createElement(s.default,{percent:i,width:140,strokeWidth:7,gapDegree:50,strokeColor:"red",type:"dashboard",format:function(){return N.default.createElement("div",{className:T.default.flow},N.default.createElement("div",{className:T.default.left},N.default.createElement("div",{className:T.default.title},"\u5269\u4f59\u6d41\u91cf"),N.default.createElement("div",{className:T.default.value},l.tPFlow||0,N.default.createElement("span",{style:{fontSize:18}},"MB"))),N.default.createElement("div",{className:T.default.useFlow},N.default.createElement("div",{className:T.default.useTitle},"\u5df2\u7528\u6d41\u91cf"),N.default.createElement("div",{className:T.default.useValue},l.uPFlow||0,N.default.createElement("span",{style:{fontSize:12}},"MB"))))}})),N.default.createElement("div",{className:T.default.desc}," \u7528\u91cf\u6570\u636e\u6709\u5ef6\u8fdf\uff0c\u4ee5\u8fd0\u8425\u5546\u6570\u636e\u4e3a\u51c6"))),N.default.createElement("div",{className:T.default.content},N.default.createElement(d.default,{swipeable:!1,tabBarTextStyle:{fontWeight:600,fontSize:16},tabs:[{title:"\u5957\u9910\u5145\u503c",sub:0},{title:"\u5145\u503c\u8bb0\u5f55",sub:1}],initialPage:0,onChange:function(t,a){e.onTabClick(a)},onTabClick:function(t,a){e.onTabClick(a)}},N.default.createElement("div",{className:T.default.tabContent},N.default.createElement("div",{className:T.default.products_title},N.default.createElement("span",{className:T.default.line}),N.default.createElement("span",{className:T.default.txt},N.default.createElement("div",null,"\u8d2d\u673a\u8d60\u9001\u4e00\u5e74\u589e\u503c\u670d\u52a1"),N.default.createElement("div",null,"\u7b2c\u4e8c\u5e74\u8d77\u6309\u4ee5\u4e0b\u5957\u9910\u5145\u503c")),N.default.createElement("span",{className:T.default.line})),N.default.createElement("div",{className:T.default.package},n?N.default.createElement(N.Fragment,null,this.getRow(o)):N.default.createElement(r.default,{image:r.default.PRESENTED_IMAGE_SIMPLE})))),N.default.createElement("div",{className:T.default.footer},N.default.createElement(c.default,{className:T.default.footRemark},N.default.createElement(f.default,{span:1,className:T.default.title},"\u6ce8:"),N.default.createElement(f.default,{span:23,style:{paddingLeft:2}},N.default.createElement("div",{className:T.default.desc},"\u2460\u4ee5\u4e0a\u8d44\u8d39\u53ef\u80fd\u7531\u4e8e\u653f\u7b56\u56e0\u7d20\u8fdb\u884c\u8c03\u6574\uff0c\u5177\u4f53\u4ee5\u5b9e\u9645\u8d44\u8d39\u4e3a\u51c6\uff1b"),N.default.createElement("div",{className:T.default.desc},"\u2461\u8d2d\u4e70\u540e\u670d\u52a1\u7acb\u5373\u751f\u6548\uff0c\u6d41\u91cf\u4e0d\u505a\u7d2f\u8ba1\uff0c\u6708\u5e95\u6e05\u96f6\uff1b"),N.default.createElement("div",{className:T.default.desc},"\u2462\u56e0\u51fa\u5382\u8c03\u8bd5\u73af\u8282\u8f83\u591a\uff0c\u670d\u52a1\u65e5\u671f\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u4ee5\u5b9e\u9645\u4e3a\u51c6\uff1b"),N.default.createElement("div",{className:T.default.desc},"\u2463\u8d2d\u4e70\u589e\u503c\u670d\u52a1\u4ec5\u53ef\u5728\u672c\u8bbe\u5907\u4f7f\u7528\uff0c\u6700\u7ec8\u89e3\u91ca\u6743\u5f52\u672c\u516c\u53f8\u6240\u6709\u3002"))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.renewData,l=t.qrCode;return a&&l!==a?{qrCode:a}:null}}]),t}(N.Component))||x),D=S;t.default=D},lYt8:function(e,t,a){e.exports={main:"antd-pro\\pages\\-renew\\-c\\-v1\\index-main",header:"antd-pro\\pages\\-renew\\-c\\-v1\\index-header",baseInfo:"antd-pro\\pages\\-renew\\-c\\-v1\\index-baseInfo",desc:"antd-pro\\pages\\-renew\\-c\\-v1\\index-desc",progress:"antd-pro\\pages\\-renew\\-c\\-v1\\index-progress",flow:"antd-pro\\pages\\-renew\\-c\\-v1\\index-flow",left:"antd-pro\\pages\\-renew\\-c\\-v1\\index-left",title:"antd-pro\\pages\\-renew\\-c\\-v1\\index-title",value:"antd-pro\\pages\\-renew\\-c\\-v1\\index-value",useFlow:"antd-pro\\pages\\-renew\\-c\\-v1\\index-useFlow",useTitle:"antd-pro\\pages\\-renew\\-c\\-v1\\index-useTitle",useValue:"antd-pro\\pages\\-renew\\-c\\-v1\\index-useValue",img:"antd-pro\\pages\\-renew\\-c\\-v1\\index-img",imgAvatar:"antd-pro\\pages\\-renew\\-c\\-v1\\index-imgAvatar",avatar:"antd-pro\\pages\\-renew\\-c\\-v1\\index-avatar",remark:"antd-pro\\pages\\-renew\\-c\\-v1\\index-remark",content:"antd-pro\\pages\\-renew\\-c\\-v1\\index-content",tabContent:"antd-pro\\pages\\-renew\\-c\\-v1\\index-tabContent",products_title:"antd-pro\\pages\\-renew\\-c\\-v1\\index-products_title",txt:"antd-pro\\pages\\-renew\\-c\\-v1\\index-txt",line:"antd-pro\\pages\\-renew\\-c\\-v1\\index-line",package:"antd-pro\\pages\\-renew\\-c\\-v1\\index-package",col:"antd-pro\\pages\\-renew\\-c\\-v1\\index-col",selectInfo:"antd-pro\\pages\\-renew\\-c\\-v1\\index-selectInfo",info:"antd-pro\\pages\\-renew\\-c\\-v1\\index-info",price:"antd-pro\\pages\\-renew\\-c\\-v1\\index-price",period:"antd-pro\\pages\\-renew\\-c\\-v1\\index-period",empty:"antd-pro\\pages\\-renew\\-c\\-v1\\index-empty",footer:"antd-pro\\pages\\-renew\\-c\\-v1\\index-footer",footRemark:"antd-pro\\pages\\-renew\\-c\\-v1\\index-footRemark"}}}]);