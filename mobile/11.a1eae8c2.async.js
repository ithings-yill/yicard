(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"5FeN":function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var d=l(a("5rEg"));a("R9oj");var u=l(a("ECub"));a("QE6f");var o=l(a("Xo8F"));a("+L6B");var i=l(a("2/Rp"));a("Pwec");var f=l(a("CtXQ"));a("HVTF");var r=l(a("OT5E")),s=l(a("lwsE")),c=l(a("W8MJ")),m=l(a("a1gu")),p=l(a("Nsbk")),h=l(a("7W2i")),g=l(a("PJYZ")),E=l(a("MVZn"));a("puyI");var v=l(a("xZH1"));a("e3Tq");var y,w,C=l(a("n+tp")),k=n(a("q1tI")),b=a("MuoO"),N=l(a("usdK")),S=l(a("5+h1")),x=C.default.Item,I=v.default.alert,B=(y=(0,b.connect)(function(e){var t=e.renewmodel,a=e.loading;return(0,E.default)({},t,{loading:a.effects["renewmodel/whitelist"],submitting:a.effects["renewmodel/setWhitelist"]})}),y(w=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.onClear=function(){a.setState({value:""})},a.loadData=function(){var e=a.props,t=e.dispatch,l=e.match.params.id;l?(r.default.loading("\u6570\u636e\u52a0\u8f7d\u4e2d...",180),t({type:"renewmodel/whitelist",payload:l}).then(function(){r.default.hide()})):window.location.href="/renew/voice/main"},a.onClick=function(){var e=a.state.value;!e||e.length<11?r.default.fail("\u8bf7\u8f93\u5165\u65b0\u589e\u7684\u767d\u540d\u5355\u53f7\u7801",1,null,!1):I("\u65b0\u589e","\u786e\u5b9a\u65b0\u589e[".concat(e,"]\u767d\u540d\u5355?"),[{text:"\u53d6\u6d88"},{text:"\u786e\u8ba4",onPress:function(){return a.onSubmit(e,0)}}])},a.onSubmit=function(e,t){var l=a.props,n=l.dispatch,d=l.match.params.id,u=(0,g.default)((0,g.default)(a));r.default.loading("\u63d0\u4ea4\u4e2d...",180),n({type:"renewmodel/checkCard",payload:d}).then(function(){var a=u.props.card;a?(n({type:"renewmodel/setWhitelist",payload:{userList:[e],cNo:d,operation:t}}).then(function(){u.onClear(),u.loadData()}),r.default.hide()):r.default.fail("\u67e5\u4e0d\u5230\u5462\uff0c\u8bf7\u786e\u8ba4\u8f93\u5165\u7684\u5361\u662f\u5426\u4e3a\u6211\u53f8\u7684\u7269\u8054\u7f51\u5361!",1,null,!1)})},a.onChange=function(e){a.setState({value:e.target.value})},a.handleClick=function(e){I("\u5220\u9664\u767d\u540d\u5355","\u786e\u5b9a\u5220\u9664[".concat(e,"]\u767d\u540d\u5355\u5417\uff1f"),[{text:"\u53d6\u6d88"},{text:"\u786e\u8ba4",onPress:function(){return a.onSubmit(e,1)}}])},a.handleBack=function(){N.default.goBack()},a.handleMessage=function(e){if(!e)return null;var t=[];return e.map(function(e,l){t.push(k.default.createElement(C.default.Item,{key:l,extra:k.default.createElement(f.default,{type:"close",onClick:function(){return a.handleClick(e.msisdn)},style:{fontSize:12,color:"#DC4C25"}})},k.default.createElement("div",{style:{color:"#36A3F0"}},k.default.createElement(f.default,{type:"idcard",style:{paddingRight:5}}),k.default.createElement("span",{style:{paddingRight:15,fontSize:12,color:0===e.status?"red":"green"}},0===e.status?"[\u65e0\u6548]":"[\u6709\u6548]"),k.default.createElement("span",{style:{fontSize:12,color:"#000000"}},e.msisdn))))}),t},a.state={value:null},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.loadData()}},{key:"render",value:function(){var e=this.state.value,t=this.props,a=t.whiteLists,l=t.match.params.id,n=t.loading,f=t.submitting;return k.default.createElement("div",{className:S.default.renewbg},k.default.createElement("div",{className:S.default.smstop,style:{marginBottom:10}},k.default.createElement("div",null,k.default.createElement(o.default,{className:S.default.felxBg,style:{paddingLeft:20,backgroundColor:"#108EE9",paddingBottom:5}},k.default.createElement(o.default.Item,{className:S.default.felxSpan},k.default.createElement("div",{className:S.default.felxItem},k.default.createElement("span",{className:S.default.cardHeaderTitle,style:{color:"#ffffff",fontSize:16}},"\u5361\u53f7\uff1a"),k.default.createElement("span",{className:S.default.flexSpan,style:{color:"#ffffff",fontSize:16}},l||"-"),k.default.createElement(i.default,{style:{marginRight:30,float:"right"},onClick:this.loadData,loading:n,icon:"reload",size:"small",shape:"circle"})))))),k.default.createElement("div",{className:S.default.smslist,style:{paddingTop:30}},a&&a.length>0?k.default.createElement(C.default,{size:"small"},this.handleMessage(a)):k.default.createElement(u.default,{image:u.default.PRESENTED_IMAGE_SIMPLE})),k.default.createElement("div",{className:S.default.paybottom},k.default.createElement(x,{align:"bottom",style:{background:"#EBEBEB"}},k.default.createElement(o.default,null,k.default.createElement(o.default.Item,{className:S.default.felxWhiteListImg},k.default.createElement(d.default,{style:{marginLeft:2},placeholder:"\u8bf7\u8f93\u5165\u767d\u540d\u5355\u53f7\u7801",onChange:this.onChange,allowClear:!0,value:e}),k.default.createElement(i.default,{style:{marginLeft:2},loading:f,onClick:this.onClick},"\u65b0\u589e"))))))}}]),t}(k.Component))||w),M=B;t.default=M}}]);