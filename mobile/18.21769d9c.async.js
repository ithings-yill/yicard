(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{IMyN:function(e,t,n){"use strict";var r=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("HVTF");var o,u,a=r(n("OT5E")),l=r(n("2Taf")),f=r(n("vZ4D")),i=r(n("MhPg")),c=r(n("l4Ni")),d=r(n("ujKo")),p=r(n("p0pE")),s=h(n("q1tI")),v=n("MuoO");function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}function w(e){var t=m();return function(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var g=(o=(0,v.connect)(function(e){var t=e.renewmodel,n=e.loading;return(0,p.default)({},t,{querying:n.effects["renewmodel/get"]})}),o(u=function(e){(0,i.default)(n,e);var t=w(n);function n(e){var r;return(0,l.default)(this,n),r=t.call(this,e),r.toLink=function(e){window.location.href=e},r.state={qrCode:null},r}return(0,f.default)(n,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t=this.props,n=t.match.params.id,r=t.location.query,o=t.dispatch;if(n){if(n.length<11||n.length>30||!new RegExp("^[A-Za-z0-9]+$").test(n))return void a.default.info("\u8bf7\u8f93\u516511\u81f330\u4f4d\u7684\u6570\u5b57\u3001\u5b57\u6bcd",5,null,!1);if(!r||!r.pkgNo)return void a.default.fail("\u53c2\u6570\u9519\u8bef");o({type:"renewmodel/checkCard",payload:n}).then(function(){var t=e.props.card;t?(a.default.loading("\u5904\u7406\u4e2d..."),o({type:"renewmodel/renew",payload:{msisdn:n,pkgNo:r.pkgNo,count:r.count||1,business:!1,effImm:r.effImm||1}})):a.default.fail("\u7269\u8054\u5361\u53f7\u4e0d\u5b58\u5728")})}}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"renewmodel/clearRenew"})}},{key:"render",value:function(){var e=this.state.qrCode;return s.default.createElement("div",null,e?s.default.createElement(s.Fragment,null,this.toLink(e)):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.renewData,r=t.qrCode;return n&&r!==n?{qrCode:n}:null}}]),n}(s.Component))||u),k=g;t.default=k}}]);