(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[121],{"9Z7E":function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var l=r(a("bx4M"));a("+L6B");var u=r(a("2/Rp"));a("5NDa");var n=r(a("5rEg"));a("7Kak");var s=r(a("9yH6"));a("OaEy");var o=r(a("2fM7")),f=r(a("jehZ")),d=r(a("p0pE")),i=r(a("2Taf")),c=r(a("vZ4D")),m=r(a("MhPg")),p=r(a("l4Ni")),g=r(a("ujKo"));a("y8nQ");var M,v,y,b,h=r(a("Vl3Y")),E=D(a("q1tI")),I=a("LLXN"),w=r(a("HZnN")),k=a("MuoO"),C=r(a("3a4m")),O=r(a("6v3/")),R=r(a("zHco")),j=r(a("ufQ4"));function q(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(q=function(e){return e?a:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=q(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var n=l?Object.getOwnPropertyDescriptor(e,u):null;n&&(n.get||n.set)?Object.defineProperty(r,u,n):r[u]=e[u]}return r.default=e,a&&a.set(e,r),r}function P(e){var t=B();return function(){var a,r=(0,g.default)(e);if(t){var l=(0,g.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var L=h.default.Item,S=(M=(0,k.connect)(function(e){var t=e.userManager,a=e.loading;return{roles:t.roles,userInfo:t.userInfo,submitting:a.effects["userManager/put"],roleLoading:a.effects["userManager/getrole"],userLoading:a.effects["userManager/get"]}}),v=w.default.Secured("/baseManager/userManager/edit/:id"),y=h.default.create(),M(b=(0,j.default)(b=v(b=y(b=function(e){(0,m.default)(a,e);var t=P(a);function a(){var e;(0,i.default)(this,a);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l)),e.onChange=function(t){var a=e.props,r=a.dispatch,l=a.form;l.setFieldsValue({role:[]}),r({type:"userManager/getrole",payload:t})},e.handleSubmit=function(t){var a=e.props,r=a.form,l=a.dispatch,u=a.userInfo;t.preventDefault(),r.validateFieldsAndScroll(function(e,t){if(!e){var a=(0,d.default)({},u,t);l({type:"userManager/put",payload:a})}})},e.onCancel=function(){C.default.goBack()},e}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,r=t.match,l=r.params.id;l&&a({type:"userManager/get",payload:l}).then(function(){var t=e.props.userInfo;a({type:"userManager/getrole",payload:t.entCode})})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"userManager/clearData"})}},{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.submitting,r=e.roleLoading,d=e.roles,i=void 0===d?[]:d,c=e.userInfo,m={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},p={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}};return E.default.createElement(R.default,null,E.default.createElement(l.default,{bordered:!1},E.default.createElement(h.default,{onSubmit:this.handleSubmit,style:{marginTop:8}},E.default.createElement(L,(0,f.default)({},m,{label:(0,I.formatMessage)({id:"user.edit.formItem.label.organization",defaultMessage:"\u5f52\u5c5e\u7ec4\u7ec7"})}),t("entCode",{initialValue:c.entCode,rules:[{required:!0,message:(0,I.formatMessage)({id:"user.edit.formItem.label.organizationRequired",defaultMessage:"\u5f52\u5c5e\u7ec4\u7ec7\u5fc5\u586b"})}]})(E.default.createElement(O.default,{onChange:this.onChange}))),E.default.createElement(L,(0,f.default)({},m,{label:(0,I.formatMessage)({id:"user.edit.formItem.label.role",defaultMessage:"\u5f52\u5c5e\u89d2\u8272"})}),t("role",{initialValue:c.role,rules:[{required:!0,message:(0,I.formatMessage)({id:"user.edit.formItem.label.roleRequired",defaultMessage:"\u5f52\u5c5e\u89d2\u8272\u5fc5\u586b"})}]})(E.default.createElement(o.default,{placeholder:(0,I.formatMessage)({id:"user.edit.formItem.selectRole",defaultMessage:"\u8bf7\u9009\u62e9"}),loading:r,mode:"multiple"},i.map(function(e){return E.default.createElement(o.default.Option,{key:e.id,value:e.id},e.name)})))),E.default.createElement(L,(0,f.default)({},m,{label:(0,I.formatMessage)({id:"user.eidt.formItem.radio.status",defaultMessage:"\u72b6\u6001"})}),t("status",{initialValue:c.status,rules:[{required:!0,message:(0,I.formatMessage)({id:"user.eidt.formItem.radio.statusRequired",defaultMessage:"\u72b6\u6001\u5fc5\u586b"})}]})(E.default.createElement(s.default.Group,{buttonStyle:"solid"},E.default.createElement(s.default.Button,{value:0},(0,I.formatMessage)({id:"user.eidt.formItem.radio.status.enable",defaultMessage:"\u542f\u7528"})),E.default.createElement(s.default.Button,{value:1},(0,I.formatMessage)({id:"user.eidt.formItem.radio.status.forbidden",defaultMessage:"\u7981\u7528"}))))),E.default.createElement(L,(0,f.default)({},m,{label:(0,I.formatMessage)({id:"user.edit.formItem.label.name",defaultMessage:"\u663e\u793a\u540d\u79f0"})}),t("name",{initialValue:c.name,rules:[{required:!0,message:(0,I.formatMessage)({id:"user.edit.formItem.label.nameRequired",defaultMessage:"\u663e\u793a\u540d\u79f0\u5fc5\u586b"})}]})(E.default.createElement(n.default,{placeholder:(0,I.formatMessage)({id:"user.edit.formItem.input.pleaseinput",defaultMessage:"\u8bf7\u8f93\u5165"})}))),E.default.createElement(L,(0,f.default)({},p,{style:{marginTop:32}}),E.default.createElement(u.default,{type:"primary",htmlType:"submit",loading:a},(0,I.formatMessage)({id:"user.edit.formItem.button.sumbit",defaultMessage:"\u63d0\u4ea4"})),E.default.createElement(u.default,{style:{marginLeft:8},onClick:this.onCancel},(0,I.formatMessage)({id:"user.edit.formItem.button.goBack",defaultMessage:"\u8fd4\u56de"}))))))}}]),a}(E.Component))||b)||b)||b)||b),V=S;t.default=V}}]);