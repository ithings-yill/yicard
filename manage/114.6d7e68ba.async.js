(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[114],{Cca9:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("J+/v");var l=n(a("MoRW"));a("IzEo");var d=n(a("bx4M"));a("+L6B");var o=n(a("2/Rp"));a("2qtc");var i=n(a("kLXV")),s=n(a("lwsE")),c=n(a("W8MJ")),u=n(a("a1gu")),p=n(a("Nsbk")),f=n(a("7W2i"));a("y8nQ");var g,h,m,b,v,y=n(a("Vl3Y")),S=n(a("MVZn")),k=r(a("q1tI")),w=a("MuoO"),x=n(a("usdK")),I=n(a("8WVO")),C=n(a("HZnN")),L=n(a("zHco")),E=n(a("ufQ4")),z=n(a("QrSY")),R=(g=(0,w.connect)(function(e){var t=e.partner,a=e.loading;return(0,S.default)({},t,{pageConfigLoading:a.effects["partner/page"],delConfigLoading:a.effects["partner/del"]})}),h=C.default.Secured("/config/partner"),m=y.default.create(),(0,E.default)(b=g(b=h(b=m((v=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,u.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(r))),a.state={selectedRows:[],formValues:{},pageIndex:1,pageSize:10},a.columns=[{title:"\u4e3b\u5408\u4f19\u4eba",dataIndex:"enterpriseName"},{title:"\u5408\u4f19\u4f19\u4f34",dataIndex:"copartnerName"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",render:function(e,t){return k.default.createElement(k.Fragment,null,k.default.createElement("a",{onClick:function(){return a.handleUpdateModalVisible("del",t)}},"\u5220\u9664"))}}],a.loadData=function(){var e=a.state,t=e.pageIndex,n=e.pageSize,r=a.props.dispatch;r({type:"partner/page",payload:{pageIndex:t,pageSize:n}})},a.deleteItem=function(e){var t=a.props,n=t.dispatch,r=t.pageData,l=a.state,d=l.pageSize,o=l.pageIndex,i=o,s=r.list.length;1===s&&o>1&&(i-=1),n({type:"partner/del",payload:{id:e.id,pageIndex:i,pageSize:d}})},a.handleUpdateModalVisible=function(e,t){switch(e){case"del":i.default.confirm({title:"\u5220\u9664\u914d\u7f6e",content:"\u786e\u5b9a\u5220\u9664\u8be5\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return a.deleteItem(t)}});break;default:break}},a.handleStandardTableChange=function(e,t,n){var r=a.props.dispatch,l=a.state.formValues;a.setState({pageIndex:e.current}),a.setState({pageSize:e.pageSize});var d=(0,S.default)({pageIndex:e.current,pageSize:e.pageSize},l);n.field&&(d.sorter="".concat(n.field,"_").concat(n.order)),r({type:"partner/page",payload:d})},a.handleMenuClick=function(e){var t=a.props.dispatch,n=a.state.selectedRows;if(n)switch(e.key){case"remove":t({type:"partner/del",payload:{key:n.map(function(e){return e.key})}});break;default:break}},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleAdd=function(){x.default.push("/config/partner/add")},a}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.pageData,n=t.loading,r=t.currentUser,i=r&&r.entCode&&r.entCode.length<4,s=this.state.selectedRows;return k.default.createElement(L.default,null,i?k.default.createElement(d.default,{bordered:!1},k.default.createElement("div",{className:z.default.tableList},k.default.createElement("div",{className:z.default.tableListOperator},k.default.createElement(o.default,{icon:"plus",type:"primary",onClick:function(){return e.handleAdd()}},"\u65b0\u5efa"),k.default.createElement(o.default,{style:{marginLeft:8},icon:"reload",shape:"circle",onClick:this.loadData})),k.default.createElement(I.default,{scrollX:1e3,rowKey:"id",selectedRows:s,loading:n,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))):k.default.createElement(l.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),t}(k.PureComponent),b=v))||b)||b)||b)||b),M=R;t.default=M},QrSY:function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-config\\-partner\\index-tableList",tableListOperator:"antd-pro\\pages\\-config\\-partner\\index-tableListOperator",tableListForm:"antd-pro\\pages\\-config\\-partner\\index-tableListForm",submitButtons:"antd-pro\\pages\\-config\\-partner\\index-submitButtons"}}}]);