(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"+2hc":function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("J+/v");var a=n(r("MoRW"));r("bbsP");var l=n(r("/wGt"));r("IzEo");var o=n(r("bx4M"));r("+L6B");var u=n(r("2/Rp"));r("/zsF");var i=n(r("PArb"));r("Telt");var c=n(r("Tckk"));r("5Dmo");var d=n(r("3S7+"));r("Pwec");var f=n(r("CtXQ")),s=n(r("2Taf")),p=n(r("vZ4D")),m=n(r("rlhR")),h=n(r("MhPg")),v=n(r("l4Ni")),y=n(r("ujKo")),g=n(r("p0pE"));r("y8nQ");var b=n(r("Vl3Y"));r("2qtc");var E,w,C,P,x=n(r("kLXV")),D=Y(r("q1tI")),O=r("MuoO"),k=n(r("ZhIB")),M=n(r("3a4m")),j=n(r("wd/R")),R=n(r("KLZ9")),T=n(r("HZnN")),I=n(r("ufQ4")),S=n(r("yPZK")),F=n(r("eaHN")),V=n(r("Urt0"));function _(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function z(e){var t=N();return function(){var r,n=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,v.default)(this,r)}}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Z=x.default.confirm,H=(E=b.default.create(),w=(0,O.connect)(function(e){var t=e.platformorders,r=e.loading;return(0,g.default)({},t,{loading:r.effects["platformorders/page"]})}),C=T.default.Secured("/platformservice/orders"),(0,I.default)(P=E(P=w(P=C(P=function(e){(0,h.default)(r,e);var t=z(r);function r(){var e;(0,s.default)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),e.state={pageSize:10,discountVisible:!1,orderCheckVisible:!1,orderPayVisible:!1,order:null},e.columns=[{title:"\u4ea4\u6613\u5355\u53f7",dataIndex:"orderNo",width:150},{title:"\u72b6\u6001",dataIndex:"state",width:80,render:function(e,t){var r="orange";return 1===e&&(r="blue"),2===e&&(r="green"),3===e&&(r="gray"),4===e&&(r="red"),D.default.createElement("span",{style:{color:r}},t.stateTxt)}},{title:"\u5bb9\u91cf",dataIndex:"capacity",width:80,render:function(e,t){return e?"".concat((e/1e4).toFixed(0),"\u4e07/").concat(t.unitTxt):"--"}},{title:"\u8ba1\u8d39",dataIndex:"capacityExpansion",width:80,render:function(e){return D.default.createElement("span",{style:{color:0===e?"blue":"green"}},0===e?"\u7eed\u8d39":"\u6269\u5bb9")}},{title:"\u5355\u4ef7",dataIndex:"price",width:100,render:function(e){return D.default.createElement("span",{style:{color:"red"}},"\xa5 ".concat((0,k.default)(e).format("0,0.00")))}},{title:"\u8865\u7f34",dataIndex:"payment",width:100,render:function(e){return D.default.createElement("span",{style:{color:"green"}},"\xa5 ".concat((0,k.default)(e).format("0,0.00")))}},{title:"\u9500\u552e\u4ef7",dataIndex:"sellingPrice",width:100,render:function(e){return D.default.createElement("span",{style:{color:"green"}},"\xa5 ".concat((0,k.default)(e).format("0,0.00")))}},{title:"\u6210\u4ea4\u4ef7",dataIndex:"transactionPrice",width:100,render:function(e){return D.default.createElement("span",{style:{color:"blue"}},"\xa5 ".concat((0,k.default)(e).format("0,0.00")))}},{title:"\u4ea4\u6613\u65f6\u95f4",dataIndex:"orderTime",width:150},{title:"\u652f\u4ed8\u7c7b\u578b",dataIndex:"payTypeTxt",width:100},{title:D.default.createElement("span",null,"\u652f\u4ed8\u51ed\u8bc1\xa0",D.default.createElement(d.default,{title:"\u70b9\u51fb\u5f39\u7a97\uff0c\u53ef\u4ee5\u67e5\u770b\u539f\u59cb\u652f\u4ed8\u51ed\u8bc1(\u56fe\u7247)"},D.default.createElement(f.default,{type:"question-circle-o"}))),dataIndex:"payFile",width:100,render:function(e){var t=e?D.default.createElement("a",{href:"".concat(e,"?thumbnail=false"),target:"_blank",rel:"noopener noreferrer"},D.default.createElement("img",{src:e,style:{width:"135px",height:"135px"},alt:"\u70b9\u51fb\u67e5\u770b\uff1a\u652f\u4ed8\u51ed\u8bc1(\u56fe\u7247)"})):null;return D.default.createElement(D.Fragment,null,e?D.default.createElement(d.default,{placement:"top",title:t},D.default.createElement("span",null,D.default.createElement(c.default,{shape:"square",size:"large",src:e}))):"--")}},{title:"\u652f\u4ed8\u65f6\u95f4",dataIndex:"payTime",width:150},{title:"\u670d\u52a1",align:"center",dataIndex:"startDate",width:190,render:function(e,t){return e&&t.endDate?"".concat((0,j.default)(e).format("YYYY-MM-DD")," \u81f3 ").concat((0,j.default)(t.endDate).format("YYYY-MM-DD")):"--"}},{title:"\u5408\u540c",dataIndex:"contractFile",width:100,render:function(e){return e?D.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"\u4e0b\u8f7d"):null}},{title:"\u64cd\u4f5c",width:150,align:"center",render:function(t,r){var n=e.props.currentUser,a=n&&n.entCode&&n.entCode.length<=4,l=null;return a&&0===r.state&&(1===n.entCode.length&&(l=D.default.createElement(D.Fragment,null,D.default.createElement("a",{onClick:function(){return e.doDrawer("discount",r,!0)}},"\u4fee\u6539\u6298\u6263"))),4===n.entCode.length&&(l=D.default.createElement(D.Fragment,null,D.default.createElement("a",{onClick:function(){return e.doDrawer("orderPay",r,!0)}},"\u7acb\u5373\u652f\u4ed8"),D.default.createElement(i.default,{type:"vertical"}),D.default.createElement("a",{onClick:function(){return e.toCancel(r,3)}},"\u53d6\u6d88\u8ba2\u5355")))),1===r.state&&1===n.entCode.length&&(l=D.default.createElement(D.Fragment,null,D.default.createElement("a",{onClick:function(){return e.doDrawer("orderCheck",r,!0)}},"\u7acb\u5373\u5ba1\u6838"))),l}}],e.extendColumns=[{title:"\u6298\u6263",dataIndex:"discount",width:100,render:function(e){return e<1?D.default.createElement("span",null,"".concat((100*e).toFixed(0)," \u6298")):"--"}},{title:"\u4f18\u60e0",dataIndex:"discountPrice",width:100,render:function(e){return D.default.createElement("span",null,"\xa5 ".concat((0,k.default)(e).format("0,0.00")))}}],e.customerCol={title:"\u5ba2\u6237",dataIndex:"enterpriseName",width:200},e.loadData=function(t){var r=e.props.dispatch,n=e.state.pageSize;r({type:"platformorders/page",payload:t||{pageIndex:0,pageSize:n}})},e.handleStandardTableChange=function(t){var r={pageIndex:t.current-1,pageSize:t.pageSize};e.loadData(r)},e.toCancel=function(t,r){var n=(0,m.default)(e);Z({okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",title:"\u53d6\u6d88\u8ba2\u5355?",onOk:function(){n.onChange({order:t.id,option:r})}})},e.doDrawer=function(t,r,n){"discount"===t&&e.setState({discountVisible:n,order:r}),"orderCheck"===t&&e.setState({orderCheckVisible:n,order:r}),"orderPay"===t&&e.setState({orderPayVisible:n,order:r})},e.onChange=function(t){var r=(0,m.default)(e),n=e.props.dispatch,a=e.state.pageSize;n({type:"platformorders/toChange",payload:t}).then(function(){r.setState({discountVisible:!1,orderCheckVisible:!1,orderPayVisible:!1,order:null}),r.loadData({pageIndex:0,pageSize:a})})},e.handleAdd=function(){M.default.push("./product")},e.renderOperator=function(){var t=e.state.exporting,r=e.props.currentUser,n=r&&r.entCode&&4===r.entCode.length;return D.default.createElement(D.Fragment,null,n&&D.default.createElement(u.default,{onClick:e.handleAdd,icon:"plus",type:"primary"},"\u6269\u5bb9"),D.default.createElement(u.default,{style:{marginLeft:8},loading:t,icon:"reload",shape:"circle",onClick:function(){return e.loadData()}}))},e}return(0,p.default)(r,[{key:"componentDidMount",value:function(){var e=this;this.loadData();var t=this.props.currentUser,r=t&&t.entCode&&t.entCode.length<4;r&&(this.columns.splice(1,0,this.customerCol),this.extendColumns.map(function(t,r){return e.columns.splice(r+8,0,t)}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.pageData,n=t.loading,u=t.currentUser,i=t.submitting,c=this.state,d=c.discountVisible,f=c.orderCheckVisible,s=c.orderPayVisible,p=c.order,m={};r&&(m=r);var h=u&&u.entCode&&u.entCode.length<=4,v={scrollX:1e3,columns:this.columns,data:m,onChange:this.handleStandardTableChange,loading:n,size:"small",expandedRowRender:this.expandedRowRender,className:"components-table-demo-nested"};return D.default.createElement(D.Fragment,null,h?D.default.createElement(D.Fragment,null,D.default.createElement(o.default,null,D.default.createElement(R.default,{tableInit:v,Operator:this.renderOperator()})),D.default.createElement(l.default,{title:"\u4fee\u6539\u6298\u6263",width:"50%",onClose:function(){return e.doDrawer("discount",null,!1)},visible:d,destroyOnClose:!0,placement:"right"},D.default.createElement(S.default,{order:p,submit:this.onChange,submitting:i})),D.default.createElement(l.default,{title:"\u7acb\u5373\u652f\u4ed8",width:"50%",onClose:function(){return e.doDrawer("orderPay",null,!1)},visible:s,destroyOnClose:!0,placement:"right"},D.default.createElement(V.default,{order:p,submit:this.onChange,submitting:i})),D.default.createElement(l.default,{title:"\u7acb\u5373\u5ba1\u6838",width:"50%",onClose:function(){return e.doDrawer("orderCheck",null,!1)},visible:f,destroyOnClose:!0,placement:"right"},D.default.createElement(F.default,{order:p,submit:this.onChange,submitting:i}))):D.default.createElement(a.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),r}(D.PureComponent))||P)||P)||P)||P),B=H;t.default=B},Urt0:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("IzEo");var a=n(r("bx4M"));r("DZo9");var l=n(r("8z0m"));r("iQDF");var o=n(r("+eQT"));r("giR+");var u=n(r("fyUT"));r("/zsF");var i=n(r("PArb")),c=n(r("jehZ"));r("+L6B");var d=n(r("2/Rp"));r("Pwec");var f=n(r("CtXQ")),s=n(r("qIgq"));r("miYZ");var p=n(r("tsqr")),m=n(r("2Taf")),h=n(r("vZ4D")),v=n(r("MhPg")),y=n(r("l4Ni")),g=n(r("ujKo")),b=n(r("p0pE"));r("y8nQ");var E,w,C,P,x=n(r("Vl3Y")),D=S(r("q1tI")),O=r("MuoO"),k=n(r("HZnN")),M=n(r("ufQ4")),j=r("34ay"),R=n(r("t3Un")),T=n(r("pl9o"));function I(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function F(e){var t=V();return function(){var r,n=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,y.default)(this,r)}}function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var _=x.default.Item,Y=(E=x.default.create(),w=(0,O.connect)(function(e){var t=e.entConfig,r=e.user,n=e.platformorders;return(0,b.default)({entConfigData:t.entConfigData},n,{currentUser:r.currentUser})}),C=k.default.Secured("/myaccount/cash"),(0,M.default)(P=E(P=w(P=C(P=function(e){(0,v.default)(r,e);var t=F(r);function r(e){var n;(0,m.default)(this,r),n=t.call(this,e),n.handleSubmit=function(e){var t=n.props,r=t.submit,a=t.form,l=t.order;e.preventDefault(),a.validateFieldsAndScroll(function(e,t){if(!e){var a=n.state.filenames,o=null;if(!a||0===a.length)return void p.default.error("\u8bf7\u4e0a\u4f20\u652f\u4ed8\u51ed\u8bc1(\u56fe\u7247)");var u=(0,s.default)(a,1);o=u[0];var i={option:1,payFile:o,order:l.id,payTime:t.payTime?"".concat(t.payTime.format("YYYY-MM-DD HH:mm:ss")):null};r&&r(i)}})},n.onRemove=function(){var e=n.state.filenames;e&&(0,R.default)("".concat(e),{method:"DELETE"}),n.setState({filenames:void 0})},n.onChange=function(e){var t=e.file,r=e.fileList;if("uploading"!==t.status&&r&&r.length>0&&r[0].response){var a=r[0].response.result?r[0].response.result:r[0].response.Result;n.setState({filenames:a})}},n.beforeUpload=function(e){var t=e.type.indexOf("jpg")>=0||e.name.toLowerCase().indexOf("png")>=0||e.name.toLowerCase().indexOf("jpeg")>=0;return!!t||(p.default.error("\u5fc5\u987b\u662fjpg\u3001png\u683c\u5f0f\u6587\u4ef6!"),!1)};var a=n.props.entConfigData;return n.state={action:"".concat(null===a||void 0===a?void 0:a.fileUrl,"/").concat("v1","/file/"),filenames:void 0},n}return(0,h.default)(r,[{key:"render",value:function(){var e,t=function(){var e=(0,j.GetToken)();return void 0!==e&&e?{"X-Token":e}:{}},r=this.props,n=r.form.getFieldDecorator,s=r.order,p=r.submitting,m={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},h={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}},v=this.state,y=v.action,g=v.filenames,b=D.default.createElement(d.default,null,D.default.createElement(f.default,{type:"upload"})," \u4e0a\u4f20");return D.default.createElement(a.default,{bordered:!1},D.default.createElement(x.default,{onSubmit:this.handleSubmit,style:{marginTop:8}},D.default.createElement(_,(0,c.default)({},m,{label:"\u516c\u53f8",className:T.default.formHeight}),D.default.createElement("span",null,"\u798f\u5efa\u7701\u6613\u8054\u8054\u7f51\u7edc\u79d1\u6280\u6709\u9650\u516c\u53f8")),D.default.createElement(_,(0,c.default)({},m,{label:"\u5f00\u6237\u884c",className:T.default.formHeight}),D.default.createElement("span",null,"\u62db\u5546\u94f6\u884c\u80a1\u4efd\u6709\u9650\u516c\u53f8\u798f\u5dde\u4ed3\u5c71\u652f\u884c")),D.default.createElement(_,(0,c.default)({},m,{label:"\u94f6\u884c\u5e10\u53f7",className:T.default.formHeight}),D.default.createElement("span",null,"591906013110601")),D.default.createElement(i.default,null,"\u5904\u7406"),D.default.createElement(_,(0,c.default)({},m,{label:"\u6d41\u7a0b",className:T.default.formHeight}),D.default.createElement("span",{style:{color:"red"}},"1\u3001\u6309\u5e94\u4ed8\u91d1\u989d\u7ed9\u4e0a\u9762\u94f6\u884c\u8d26\u53f7\u4ed8\u6b3e",D.default.createElement("br",null),"2\u3001\u4ed8\u6b3e\u540e\u4e0a\u4f20\u652f\u4ed8\u51ed\u8bc1",D.default.createElement("br",null),"3\u3001\u5ba2\u670d\u4f1a\u8fdb\u884c\u540e\u53f0\u5ba1\u6838\u5904\u7406")),D.default.createElement(_,(0,c.default)({},m,{label:"\u5e94\u4ed8"}),n("transactionPrice",{initialValue:null!==(e=null===s||void 0===s?void 0:s.transactionPrice)&&void 0!==e?e:0})(D.default.createElement(u.default,{formatter:function(e){return"\uffe5 ".concat(e)},precision:2,disabled:!0,style:{width:180,color:"blue"}}))),D.default.createElement(_,(0,c.default)({},m,{label:"\u652f\u4ed8\u65f6\u95f4"}),n("payTime",{rules:[{required:!0,message:"\u652f\u4ed8\u65f6\u95f4\u5fc5\u586b"}]})(D.default.createElement(o.default,{placeholder:"\u65f6\u95f4"}))),D.default.createElement(_,(0,c.default)({},m,{label:"\u652f\u4ed8\u51ed\u8bc1(\u56fe\u7247)",extra:D.default.createElement("span",{style:{color:"red"}},"\u652f\u4ed8\u51ed\u8bc1(\u5373\u5bf9\u516c\u8f6c\u8d26\u56de\u5355)\u8981\u6e05\u6670\u4ee5\u4fbf\u7cfb\u7edf\u8bc6\u522b\uff0c\u591a\u6b21\u65e0\u6cd5\u8bc6\u522b\u7684\u8bf7\u8054\u7cfb\u5ba2\u670d")}),D.default.createElement(l.default,{action:"".concat(y).concat("card","/productorder?thumbnail=135*135"),headers:t(),onChange:this.onChange,onRemove:this.onRemove},g&&g.length>=1?null:b)),D.default.createElement(_,(0,c.default)({},h,{style:{marginTop:32}}),D.default.createElement(d.default,{type:"primary",loading:p,htmlType:"submit"},"\u63d0\u4ea4"))))}}]),r}(D.Component))||P)||P)||P)||P),z=Y;t.default=z},eaHN:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("IzEo");var a=n(r("bx4M"));r("+L6B");var l=n(r("2/Rp")),o=n(r("jehZ"));r("7Kak");var u=n(r("9yH6")),i=n(r("2Taf")),c=n(r("vZ4D")),d=n(r("MhPg")),f=n(r("l4Ni")),s=n(r("ujKo")),p=n(r("p0pE"));r("5NDa");var m=n(r("5rEg"));r("y8nQ");var h,v,y,g=n(r("Vl3Y")),b=P(r("q1tI")),E=r("MuoO"),w=n(r("ufQ4"));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function x(e){var t=D();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var O=g.default.Item,k=m.default.TextArea,M=(h=g.default.create(),v=(0,E.connect)(function(e){var t=e.platformorders;return(0,p.default)({},t)}),(0,w.default)(y=h(y=v(y=function(e){(0,d.default)(r,e);var t=x(r);function r(){var e;(0,i.default)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),e.handleSubmit=function(t){var r=e.props,n=r.form,a=r.submit,l=r.order;t.preventDefault(),n.validateFieldsAndScroll(function(e,t){if(!e){var r={option:t.option,remark:t.remark,order:l.id};a&&a(r)}})},e}return(0,c.default)(r,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,r=e.submitting,n={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},i={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}};return b.default.createElement(a.default,{bordered:!1},b.default.createElement(g.default,{onSubmit:this.handleSubmit,style:{marginTop:8}},b.default.createElement(O,(0,o.default)({},n,{label:"\u72b6\u6001"}),t("option",{initialValue:2})(b.default.createElement(u.default.Group,{buttonStyle:"solid",onChange:this.onChange},b.default.createElement(u.default,{value:2},"\u5df2\u7ecf\u6838\u9a8c"),b.default.createElement(u.default,{value:4},"\u6838\u9a8c\u5931\u8d25")))),b.default.createElement(O,(0,o.default)({},n,{label:"\u8bf4\u660e"}),t("remark",{rules:[{max:30,message:"\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc730\u4e2a\u5b57\u7b26"}]})(b.default.createElement(k,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165\u8bf4\u660e",rows:4}))),b.default.createElement(O,(0,o.default)({},i,{style:{marginTop:32}}),b.default.createElement(l.default,{type:"primary",htmlType:"submit",loading:r},"\u63d0\u4ea4"))))}}]),r}(b.PureComponent))||y)||y)||y),j=M;t.default=j},pl9o:function(e,t,r){e.exports={formHeight:"antd-pro\\pages\\-platform-service\\-orders\\index-formHeight"}},yPZK:function(e,t,r){"use strict";var n=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("IzEo");var a=n(r("bx4M"));r("+L6B");var l=n(r("2/Rp")),o=n(r("jehZ"));r("giR+");var u=n(r("fyUT")),i=n(r("2Taf")),c=n(r("vZ4D")),d=n(r("MhPg")),f=n(r("l4Ni")),s=n(r("ujKo")),p=n(r("p0pE"));r("y8nQ");var m,h,v,y=n(r("Vl3Y")),g=C(r("q1tI")),b=r("MuoO"),E=n(r("ufQ4"));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function P(e){var t=x();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var D=y.default.Item,O=(m=y.default.create(),h=(0,b.connect)(function(e){var t=e.platformorders;return(0,p.default)({},t)}),(0,E.default)(v=m(v=h(v=function(e){(0,d.default)(r,e);var t=P(r);function r(){var e;(0,i.default)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),e.state={transactionPrice:0,discountPrice:0,discount:1},e.handleSubmit=function(t){var r=e.props,n=r.form,a=r.submit,l=r.order;t.preventDefault(),n.validateFieldsAndScroll(function(e,t){if(!e){var r={option:0,discount:t.discount,discountPrice:t.discountPrice,order:l.id};a&&a(r)}})},e.onDiscountChange=function(t){var r=e.props.order,n=e.state.discountPrice;e.setState({transactionPrice:r.sellingPrice*t-n,discount:t})},e.onDiscountPriceChange=function(t){var r=e.props.order,n=e.state.discount;e.setState({transactionPrice:r.sellingPrice*n-t,discountPrice:t})},e}return(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.order;e&&this.setState({transactionPrice:e.transactionPrice,discountPrice:e.discountPrice,discount:e.discount})}},{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,r=e.submitting,n=e.order,i=this.state,c=i.transactionPrice,d=i.discountPrice,f=i.discount,s={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},p={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}},m=n?.2*n.sellingPrice:.2*c;return g.default.createElement(a.default,{bordered:!1},g.default.createElement(y.default,{onSubmit:this.handleSubmit,style:{marginTop:8}},g.default.createElement(D,(0,o.default)({},s,{label:"\u6298\u6263"}),t("discount",{initialValue:f})(g.default.createElement(u.default,{onChange:this.onDiscountChange,formatter:function(e){return"".concat((100*e).toFixed(0)," \u6298")},min:.6,max:1,step:.01,precision:2,placeholder:"\u8bf7\u8f93\u5165\u6298\u6263\u540e\u518d\u4f18\u60e0",style:{width:180}}))),g.default.createElement(D,(0,o.default)({},s,{label:"\u51cf\u514d"}),t("discountPrice",{initialValue:d})(g.default.createElement(u.default,{onChange:this.onDiscountPriceChange,formatter:function(e){return"\uffe5 ".concat(e)},min:0,max:m,step:1,precision:2,placeholder:"\u8bf7\u8f93\u5165\u51cf\u514d\u91d1\u989d",style:{width:180}}))),g.default.createElement(D,(0,o.default)({},s,{label:"\u5e94\u4ed8"}),t("transactionPrice",{initialValue:c})(g.default.createElement(u.default,{formatter:function(e){return"\uffe5 ".concat(e)},precision:2,disabled:!0,style:{width:180,color:"red"}}))),g.default.createElement(D,(0,o.default)({},p,{style:{marginTop:32}}),g.default.createElement(l.default,{type:"primary",htmlType:"submit",loading:r},"\u63d0\u4ea4"))))}}]),r}(g.PureComponent))||v)||v)||v),k=O;t.default=k}}]);