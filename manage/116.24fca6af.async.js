(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[116],{foEw:function(e,a,t){"use strict";var n=t("TqRt"),l=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("J+/v");var d=n(t("MoRW"));t("IzEo");var r=n(t("bx4M"));t("+BJd");var i=n(t("mr32"));t("14J3");var o=n(t("BMrR"));t("+L6B");var u=n(t("2/Rp"));t("jCWc");var c=n(t("kPKH"));t("5NDa");var f=n(t("5rEg")),p=n(t("MVZn"));t("2qtc");var s=n(t("kLXV"));t("/zsF");var g=n(t("PArb")),m=n(t("lwsE")),h=n(t("W8MJ")),k=n(t("a1gu")),v=n(t("Nsbk")),y=n(t("7W2i")),E=n(t("PJYZ"));t("y8nQ");var x,b,S,I,z,L=n(t("Vl3Y")),C=l(t("q1tI")),T=t("MuoO"),w=n(t("usdK")),D=n(t("8WVO")),V=n(t("HZnN")),F=n(t("ufQ4")),M=n(t("zHco")),N=n(t("znnT")),A=L.default.Item,O=(x=(0,T.connect)(function(e){var a=e.packageunionconfig,t=e.loading;return{pageData:a.pageData,delData:a.delData,pageConfigLoading:t.effects["packageunionconfig/page"],delConfigLoading:t.effects["packageunionconfig/del"]}}),b=V.default.Secured("/config/packageunion"),S=L.default.create(),(0,F.default)(I=x(I=b(I=S((z=function(e){function a(){var e,t;(0,m.default)(this,a);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return t=(0,k.default)(this,(e=(0,v.default)(a)).call.apply(e,[this].concat(l))),t.state={formValues:{},pageIndex:1,pageSize:10},t.columns=[{title:"\u5957\u9910\u540d\u79f0",dataIndex:"packageName"},{title:"\u8fd0\u8425\u5546\u5957\u9910\u7f16\u7801",dataIndex:"pNo",render:function(e){return C.default.createElement("span",null,e.replace(/;/g,"\r\n"))}},{title:"\u5730\u65b9\u5e73\u53f0",dataIndex:"platformName"},{title:"\u8ba2\u8d2d\u7c7b\u578b",dataIndex:"sType",render:function(e){return C.default.createElement("span",null,0===e?"\u8d2d\u4e70\u5957\u9910":"\u53d8\u66f4\u5957\u9910")}},{title:"\u5f52\u5c5e\u5ba2\u6237",dataIndex:"enterpriseName"},{title:"\u521b\u5efa",dataIndex:"createTime"},{title:"\u66f4\u65b0",dataIndex:"updateTime"},{title:"\u64cd\u4f5c",render:function(e,a){var n=t.props.location.pathname;return C.default.createElement(C.Fragment,null,C.default.createElement(V.default,{authority:[n,"edit"]},C.default.createElement("a",{onClick:function(){return t.handleUpdateModalVisible("edit",a)}},"\u914d\u7f6e")),C.default.createElement(V.default,{authority:[n,"delete"]},C.default.createElement(g.default,{type:"vertical"}),C.default.createElement("a",{onClick:function(){return t.handleUpdateModalVisible("del",a)}},"\u5220\u9664")))}}],t.loadData=function(e){var a=t.state,n=a.pageIndex,l=a.pageSize,d=t.props.dispatch;d({type:"packageunionconfig/page",payload:e||{pageIndex:n,pageSize:l}})},t.deleteItem=function(e){var a=t.props,n=a.dispatch,l=a.pageData,d=t.state,r=d.pageSize,i=d.pageIndex,o=i,u=l.list.length;1===u&&i>1&&(o-=1),n({type:"packageunionconfig/del",payload:{id:e.id,pageIndex:o,pageSize:r}})},t.handleUpdateModalVisible=function(e,a){switch(e){case"del":s.default.confirm({title:"\u5220\u9664\u914d\u7f6e",content:"\u786e\u5b9a\u5220\u9664\u8be5\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return t.deleteItem(a)}});break;case"edit":w.default.push("/config/packageunion/edit/".concat(a.id));break;default:break}},t.handleStandardTableChange=function(e){var a=t.props.dispatch,n=t.state.formValues;t.setState({pageIndex:e.current,pageSize:e.pageSize});var l=(0,p.default)({pageIndex:e.current,pageSize:e.pageSize},n);a({type:"packageunionconfig/page",payload:l})},t.handleAdd=function(){w.default.push("/config/packageunion/add")},t.handleFormReset=function(){var e=t.state.pageSize,a=t.props,n=a.form,l=a.dispatch;n.resetFields(),t.setState({formValues:{}}),l({type:"packageunionconfig/page",payload:{pageIndex:1,pageSize:e}})},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,l=a.form,d=t.state.pageSize;l.validateFields(function(e,a){if(!e){var l=(0,p.default)({},a,{pageIndex:1,pageSize:d});t.setState({formValues:a}),n({type:"packageunionconfig/page",payload:l})}})},t.handleExportAll=function(){var e=(0,E.default)((0,E.default)(t));s.default.confirm({okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",title:"\u786e\u5b9a\u5bfc\u51fa\u5168\u90e8?",onOk:function(){e.exportAll()}})},t.exportAll=function(){var e=t.state.formValues,a=(0,p.default)({},e,{downTask:!0}),n=t.props.dispatch;n({type:"packageunionconfig/doExport",payload:a})},t}return(0,y.default)(a,e),(0,h.default)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return C.default.createElement("div",{style:{marginLeft:10,paddingBottom:10}},C.default.createElement(L.default,{onSubmit:this.handleSearch,layout:"inline"},C.default.createElement(o.default,{gutter:{md:8,lg:24,xl:48}},C.default.createElement(c.default,{md:8,sm:24},C.default.createElement(A,{label:"\u5957\u9910\u540d\u79f0/\u7f16\u7801"},e("name")(C.default.createElement(f.default,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u5957\u9910\u540d\u79f0/\u7f16\u7801"})))),C.default.createElement(c.default,{md:8,sm:24},C.default.createElement("span",{className:N.default.submitButtons},C.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),C.default.createElement(u.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"))))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.pageData,n=a.loading,l=a.location.pathname,o=a.currentUser,c=o&&o.entCode&&o.entCode.length<=4;return C.default.createElement(M.default,null,c?C.default.createElement(r.default,{bordered:!1},C.default.createElement("div",{className:N.default.tableList},C.default.createElement("div",{className:N.default.tableListOperator},this.renderSimpleForm(),C.default.createElement(V.default,{authority:[l,"add"]},C.default.createElement(u.default,{icon:"plus",type:"primary",onClick:function(){return e.handleAdd()}},"\u65b0\u5efa")),C.default.createElement(u.default,{style:{marginLeft:8},icon:"reload",shape:"circle",onClick:this.loadData}),C.default.createElement(u.default,{style:{marginLeft:8},onClick:this.handleExportAll},"\u5bfc\u51fa\u5168\u90e8"),C.default.createElement(i.default,{style:{marginLeft:30},color:"red"},"\u8bf4\u660e\uff1a\u65b0\u589e/\u7f16\u8f91\u6210\u529f\u30103\u5206\u949f\u3011\u540e\u751f\u6548")),C.default.createElement(D.default,{scrollX:1e3,rowKey:"id",loading:n,data:t,columns:this.columns,onChange:this.handleStandardTableChange}))):C.default.createElement(d.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),a}(C.PureComponent),I=z))||I)||I)||I)||I),B=O;a.default=B},znnT:function(e,a,t){e.exports={tableList:"antd-pro\\pages\\-config\\-package-union\\index-tableList",tableListOperator:"antd-pro\\pages\\-config\\-package-union\\index-tableListOperator",tableListForm:"antd-pro\\pages\\-config\\-package-union\\index-tableListForm",submitButtons:"antd-pro\\pages\\-config\\-package-union\\index-submitButtons"}}}]);