(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[126],{jKZR:function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-config\\-e-c-config\\index-tableList",tableListOperator:"antd-pro\\pages\\-config\\-e-c-config\\index-tableListOperator",tableListForm:"antd-pro\\pages\\-config\\-e-c-config\\index-tableListForm",submitButtons:"antd-pro\\pages\\-config\\-e-c-config\\index-submitButtons"}},wkD6:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("J+/v");var d=n(a("MoRW"));a("IzEo");var c=n(a("bx4M"));a("qVdP");var o=n(a("jsC+"));a("Pwec");var r=n(a("CtXQ"));a("+L6B");var i=n(a("2/Rp"));a("lUTK");var u=n(a("BvKs")),f=n(a("MVZn"));a("2qtc");var s=n(a("kLXV"));a("/zsF");var p=n(a("PArb"));a("Awhp");var g=n(a("KrTs")),m=n(a("lwsE")),h=n(a("W8MJ")),v=n(a("a1gu")),b=n(a("Nsbk")),y=n(a("7W2i"));a("y8nQ");var k,E,C,w,x,I=n(a("Vl3Y")),S=l(a("q1tI")),L=a("MuoO"),M=n(a("usdK")),R=n(a("8WVO")),z=n(a("HZnN")),D=n(a("zHco")),V=n(a("ufQ4")),O=n(a("jKZR")),T=["","\u542f\u7528","\u7981\u7528"],K=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},j=(k=(0,L.connect)(function(e){var t=e.ecconfig,a=e.loading;return{pageData:t.pageData,delData:t.delData,pageConfigLoading:a.effects["ecconfig/pageConfig"],delConfigLoading:a.effects["ecconfig/delConfig"]}}),E=z.default.Secured("/config/ecconfig"),C=I.default.create(),k(w=(0,V.default)(w=E(w=C((x=function(e){function t(){var e,a;(0,m.default)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return a=(0,v.default)(this,(e=(0,b.default)(t)).call.apply(e,[this].concat(l))),a.state={selectedRows:[],formValues:{},pageIndex:1,pageSize:10},a.columns=[{title:"\u8fd0\u8425\u5546",dataIndex:"oType",render:function(e,t){var a="";return 1===e&&(a="\u79fb\u52a8\u3010".concat(1===t.version?"EC":"\u65b0EC","\u3011")),2===e&&(a="\u8054\u901a\u3010".concat(1===t.version?"Jasper":"NB","\u3011")),3===e&&(a="\u7535\u4fe1\u3010".concat(1===t.version?"DCP":"CMP","\u3011")),S.default.createElement("span",null,a)}},{title:"\u96c6\u56e2\u540d\u79f0",dataIndex:"cName"},{title:"\u8d26\u53f7",dataIndex:"uId"},{title:"\u5bc6\u7801",dataIndex:"pwd"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e){return S.default.createElement("span",null,S.default.createElement(g.default,{status:1===e?"success":"error"}),T[e])}},{title:"\u64cd\u4f5c",render:function(e,t){var n=a.props.location.pathname;return S.default.createElement(S.Fragment,null,S.default.createElement(z.default,{authority:[n,"edit"]},S.default.createElement("a",{onClick:function(){return a.handleUpdateModalVisible("edit",t)}},"\u914d\u7f6e")),S.default.createElement(z.default,{authority:[n,"delete"]},S.default.createElement(p.default,{type:"vertical"}),S.default.createElement("a",{onClick:function(){return a.handleUpdateModalVisible("del",t)}},"\u5220\u9664")))}}],a.loadData=function(){var e=a.state,t=e.pageIndex,n=e.pageSize,l=a.props.dispatch;l({type:"ecconfig/pageConfig",payload:{pageIndex:t,pageSize:n}})},a.deleteItem=function(e){var t=a.props,n=t.dispatch,l=t.pageData,d=a.state,c=d.pageSize,o=d.pageIndex,r=o,i=l.list.length;1===i&&o>1&&(r-=1),n({type:"ecconfig/delConfig",payload:{id:e.id,pageIndex:r,pageSize:c},callback:function(){}})},a.handleUpdateModalVisible=function(e,t){switch(e){case"del":s.default.confirm({title:"\u5220\u9664\u914d\u7f6e",content:"\u786e\u5b9a\u5220\u9664\u8be5\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return a.deleteItem(t)}});break;case"edit":M.default.push("/config/ecconfig/edit/".concat(t.id));break;default:break}},a.handleStandardTableChange=function(e,t,n){var l=a.props.dispatch,d=a.state.formValues,c=Object.keys(t).reduce(function(e,a){var n=(0,f.default)({},e);return n[a]=K(t[a]),n},{});a.setState({pageIndex:e.current}),a.setState({pageSize:e.pageSize});var o=(0,f.default)({pageIndex:e.current,pageSize:e.pageSize},d,c);n.field&&(o.sorter="".concat(n.field,"_").concat(n.order)),l({type:"ecconfig/pageConfig",payload:o})},a.handleMenuClick=function(e){var t=a.props.dispatch,n=a.state.selectedRows;if(n)switch(e.key){case"remove":t({type:"ecconfig/delConfig",payload:{key:n.map(function(e){return e.key})},callback:function(){}});break;default:break}},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleAdd=function(){M.default.push("/config/ecconfig/add")},a}return(0,y.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.pageData,n=t.loading,l=t.location.pathname,f=this.props.currentUser,s=f&&f.entCode&&f.entCode.length<=4,p=this.state.selectedRows,g=S.default.createElement(u.default,{onClick:this.handleMenuClick,selectedKeys:[]},S.default.createElement(u.default.Item,{key:"remove"},"\u5220\u9664"));return S.default.createElement(D.default,null,s?S.default.createElement(c.default,{bordered:!1},S.default.createElement("div",{className:O.default.tableList},S.default.createElement("div",{className:O.default.tableListOperator},S.default.createElement(z.default,{authority:[l,"add"]},S.default.createElement(i.default,{icon:"plus",type:"primary",onClick:function(){return e.handleAdd()}},"\u65b0\u5efa")),S.default.createElement(i.default,{style:{marginLeft:8},icon:"reload",shape:"circle",onClick:this.loadData}),p.length>0&&S.default.createElement("span",null,S.default.createElement(i.default,null,"\u6279\u91cf\u64cd\u4f5c"),S.default.createElement(o.default,{overlay:g},S.default.createElement(i.default,null,"\u66f4\u591a\u64cd\u4f5c ",S.default.createElement(r.default,{type:"down"}))))),S.default.createElement(R.default,{scrollX:1e3,rowKey:"id",selectedRows:p,loading:n,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))):S.default.createElement(d.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),t}(S.PureComponent),w=x))||w)||w)||w)||w),P=j;t.default=P}}]);