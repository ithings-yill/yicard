(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[65],{"eGN+":function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-config\\-local-platform-config\\index-tableList",tableListOperator:"antd-pro\\pages\\-config\\-local-platform-config\\index-tableListOperator",tableListForm:"antd-pro\\pages\\-config\\-local-platform-config\\index-tableListForm",submitButtons:"antd-pro\\pages\\-config\\-local-platform-config\\index-submitButtons"}},msca:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("J+/v");var n=l(a("MoRW"));a("IzEo");var r=l(a("bx4M"));a("qVdP");var o=l(a("jsC+"));a("Pwec");var c=l(a("CtXQ"));a("+L6B");var d=l(a("2/Rp"));a("lUTK");var u=l(a("BvKs"));a("2qtc");var i=l(a("kLXV"));a("/zsF");var f=l(a("PArb"));a("Awhp");var s=l(a("KrTs")),p=l(a("2Taf")),g=l(a("vZ4D")),m=l(a("MhPg")),h=l(a("l4Ni")),v=l(a("ujKo"));a("y8nQ");var y,b,k,w,E=l(a("Vl3Y")),x=l(a("p0pE")),I=z(a("q1tI")),C=a("MuoO"),O=l(a("3a4m")),S=l(a("8WVO")),M=l(a("HZnN")),R=l(a("ufQ4")),D=l(a("zHco")),L=l(a("eGN+"));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function P(e){var t=V();return function(){var a,l=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,h.default)(this,a)}}function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var N=["","\u542f\u7528","\u7981\u7528"],T=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},B=(y=(0,C.connect)(function(e){var t=e.localplatformconfig,a=e.loading,l=e.user;return(0,x.default)({},l,{pageData:t.pageData,delData:t.delData,pageConfigLoading:a.effects["localplatformconfig/page"],delConfigLoading:a.effects["localplatformconfig/del"]})}),b=M.default.Secured("/config/localplatformconfig"),k=E.default.create(),(0,R.default)(w=y(w=b(w=k(w=function(e){(0,m.default)(a,e);var t=P(a);function a(){var e;(0,p.default)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),e.state={selectedRows:[],formValues:{},pageIndex:1,pageSize:10},e.columns=[{title:"\u96c6\u56e2\u540d\u79f0",dataIndex:"cName"},{title:"\u5730\u65b9\u5e73\u53f0\u7c7b\u578b",dataIndex:"platformName"},{title:"\u5730\u65b9\u5e73\u53f0\u96c6\u56e2\u7f16\u7801",dataIndex:"localComId"},{title:"\u8d26\u53f7",dataIndex:"userId"},{title:"\u5bc6\u7801",dataIndex:"pwd"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e){return I.default.createElement("span",null,I.default.createElement(s.default,{status:1===e?"success":"error"}),N[e])}},{title:"\u64cd\u4f5c",render:function(t,a){var l=e.props.location.pathname;return I.default.createElement(I.Fragment,null,I.default.createElement(M.default,{authority:[l,"edit"]},I.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible("edit",a)}},"\u914d\u7f6e")),I.default.createElement(M.default,{authority:[l,"delete"]},I.default.createElement(f.default,{type:"vertical"}),I.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible("del",a)}},"\u5220\u9664")))}}],e.loadData=function(){var t=e.state,a=t.pageIndex,l=t.pageSize,n=e.props.dispatch;n({type:"localplatformconfig/page",payload:{pageIndex:a,pageSize:l}})},e.deleteItem=function(t){var a=e.props,l=a.dispatch,n=a.pageData,r=e.state,o=r.pageSize,c=r.pageIndex,d=c,u=n.list.length;1===u&&c>1&&(d-=1),l({type:"localplatformconfig/del",payload:{id:t.id,pageIndex:d,pageSize:o}})},e.handleUpdateModalVisible=function(t,a){switch(t){case"del":i.default.confirm({title:"\u5220\u9664\u914d\u7f6e",content:"\u786e\u5b9a\u5220\u9664\u8be5\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return e.deleteItem(a)}});break;case"edit":O.default.push("/config/localplatformconfig/edit/".concat(a.id));break;default:break}},e.handleStandardTableChange=function(t,a,l){var n=e.props.dispatch,r=e.state.formValues,o=Object.keys(a).reduce(function(e,t){var l=(0,x.default)({},e);return l[t]=T(a[t]),l},{});e.setState({pageIndex:t.current}),e.setState({pageSize:t.pageSize});var c=(0,x.default)({pageIndex:t.current,pageSize:t.pageSize},r,o);l.field&&(c.sorter="".concat(l.field,"_").concat(l.order)),n({type:"localplatformconfig/page",payload:c})},e.handleMenuClick=function(t){var a=e.props.dispatch,l=e.state.selectedRows;if(l)switch(t.key){case"remove":a({type:"localplatformconfig/del",payload:{key:l.map(function(e){return e.key})}});break;default:break}},e.handleSelectRows=function(t){e.setState({selectedRows:t})},e.handleAdd=function(){O.default.push("/config/localplatformconfig/add")},e}return(0,g.default)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.pageData,l=t.loading,i=t.location.pathname,f=t.currentUser,s=f&&f.entCode&&f.entCode.length<=4,p=this.state.selectedRows,g=I.default.createElement(u.default,{onClick:this.handleMenuClick,selectedKeys:[]},I.default.createElement(u.default.Item,{key:"remove"},"\u5220\u9664"));return I.default.createElement(D.default,null,s?I.default.createElement(r.default,{bordered:!1},I.default.createElement("div",{className:L.default.tableList},I.default.createElement("div",{className:L.default.tableListOperator},I.default.createElement(M.default,{authority:[i,"add"]},I.default.createElement(d.default,{icon:"plus",type:"primary",onClick:function(){return e.handleAdd()}},"\u65b0\u5efa")),I.default.createElement(d.default,{style:{marginLeft:8},icon:"reload",shape:"circle",onClick:this.loadData}),p.length>0&&I.default.createElement("span",null,I.default.createElement(d.default,null,"\u6279\u91cf\u64cd\u4f5c"),I.default.createElement(o.default,{overlay:g},I.default.createElement(d.default,null,"\u66f4\u591a\u64cd\u4f5c ",I.default.createElement(c.default,{type:"down"}))))),I.default.createElement(S.default,{scrollX:1e3,rowKey:"id",selectedRows:p,loading:l,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))):I.default.createElement(n.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),a}(I.PureComponent))||w)||w)||w)||w),K=B;t.default=K}}]);