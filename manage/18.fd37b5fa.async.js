(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{H9uJ:function(t,e,a){"use strict";var n=a("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a("p0pE"));a("miYZ");var u=n(a("tsqr")),c=n(a("d6i3")),s=n(a("3a4m")),o=a("MHt4"),l={namespace:"roleManager",state:{treeData:{},roleAuths:{},authsInfo:null,data:{list:[],pagination:{}},auths:{}},effects:{getcurrentauths:c.default.mark(function t(e,a){var n,r,u,s;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,u=a.put,t.next=4,r(o.getcurrentauths,n);case 4:if(s=t.sent,!s){t.next=8;break}return t.next=8,u({type:"setcurrentauths",payload:s.result});case 8:case"end":return t.stop()}},t)}),post:c.default.mark(function t(e,a){var n,r,l;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,t.next=4,r(o.post,n);case 4:l=t.sent,l&&(l?(u.default.info("\u63d0\u4ea4\u6210\u529f"),s.default.push("/baseManager/roleManager")):l.message?u.default.info(l.message):u.default.info("\u63d0\u4ea4\u5931\u8d25"));case 6:case"end":return t.stop()}},t)}),put:c.default.mark(function t(e,a){var n,r,l;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,t.next=4,r(o.edit,n);case 4:l=t.sent,l&&(0===l.code?(u.default.info("\u63d0\u4ea4\u6210\u529f"),s.default.push("/baseManager/roleManager")):l.message?u.default.info(l.message):u.default.info("\u63d0\u4ea4\u5931\u8d25"));case 6:case"end":return t.stop()}},t)}),getAuthById:c.default.mark(function t(e,a){var n,r,u,s;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,u=a.put,t.next=4,r(o.getAuthById,n);case 4:if(s=t.sent,!s){t.next=8;break}return t.next=8,u({type:"setRoleAuths",payload:s.result});case 8:case"end":return t.stop()}},t)}),get:c.default.mark(function t(e,a){var n,r,u,s;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,u=a.put,t.next=4,r(o.get,n);case 4:if(s=t.sent,!s){t.next=8;break}return t.next=8,u({type:"setAuths",payload:s.result});case 8:case"end":return t.stop()}},t)}),getAuth:c.default.mark(function t(e,a){var n,r,u,s;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,u=a.put,t.next=4,r(o.getAuth,n);case 4:if(s=t.sent,!s){t.next=8;break}return t.next=8,u({type:"setAuthsInfo",payload:s.result});case 8:case"end":return t.stop()}},t)}),getPage:c.default.mark(function t(e,a){var n,r,u,s;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,u=a.put,t.next=4,r(o.page,n);case 4:if(s=t.sent,!s){t.next=8;break}return t.next=8,u({type:"setData",payload:s.result});case 8:case"end":return t.stop()}},t)}),delete:c.default.mark(function t(e,a){var n,r,s;return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.payload,r=a.call,s=a.put,t.next=4,r(o.del,n.record);case 4:return u.default.info("\u5220\u9664\u6210\u529f"),t.next=7,s({type:"getPage",payload:n.pageArgs});case 7:case"end":return t.stop()}},t)})},reducers:{setcurrentauths:function(t,e){var a=e.payload;return(0,r.default)({},t,{treeData:a})},setRoleAuths:function(t,e){var a=e.payload;return(0,r.default)({},t,{roleAuths:a})},setAuthsInfo:function(t,e){var a=e.payload;return(0,r.default)({},t,{authsInfo:a})},clearAuthsInfo:function(t){return(0,r.default)({},t,{authsInfo:null})},clearAuths:function(t){return(0,r.default)({},t,{auths:null})},setAuths:function(t,e){var a=e.payload;return(0,r.default)({},t,{auths:a})},setData:function(t,e){var a=e.payload;return(0,r.default)({},t,{data:a})}}};e.default=l},MHt4:function(t,e,a){"use strict";var n=a("g09b");Object.defineProperty(e,"__esModule",{value:!0}),e.page=l,e.del=p,e.post=d,e.edit=y,e.get=v,e.getAuth=g,e.getcurrentauths=b,e.getAuthById=A;var r=n(a("d6i3")),u=n(a("1l/V")),c=n(a("t3Un")),s=n(a("Qyje")),o=function(t){if(0===t.code&&t.result){var e=t.result.menuList.map(function(t){return{key:"m-".concat(t.id),pid:"m-".concat(t.pid),title:t.name,iconId:"appstore"}}),a=t.result.linkAuthList.map(function(t){return{key:"l-".concat(t.id),pid:"m-".concat(t.menu),title:t.name,iconId:"file"}}),n=t.result.optAuthList.map(function(t){return{key:"o-".concat(t.id),pid:"l-".concat(t.linkAuth),title:t.name,iconId:"tool"}});t.result.tree=e.concat(a).concat(n)}else t.result={},t.result.tree=[];return t};function l(t){return i.apply(this,arguments)}function i(){return i=(0,u.default)(r.default.mark(function t(e){var a,n;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role/list/").concat(e.entCode,"?").concat(s.default.stringify(e)));case 2:return a=t.sent,a&&(n={list:a.result.items,pagination:{total:a.result.totalCount,current:e.page+1,pageSize:e.pageSize}},a.result=n),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)})),i.apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return f=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role/").concat(e.id),{method:"DELETE",body:e}));case 1:case"end":return t.stop()}},t)})),f.apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return h=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),h.apply(this,arguments)}function y(t){return w.apply(this,arguments)}function w(){return w=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role"),{method:"PUT",body:e}));case 1:case"end":return t.stop()}},t)})),w.apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return m=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role/").concat(e)));case 1:case"end":return t.stop()}},t)})),m.apply(this,arguments)}function g(t){return x.apply(this,arguments)}function x(){return x=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role/superrole/code/").concat(e)));case 1:case"end":return t.stop()}},t)})),x.apply(this,arguments)}function b(){return k.apply(this,arguments)}function k(){return k=(0,u.default)(r.default.mark(function t(){var e;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role/getcurrentauths"));case 2:return e=t.sent,t.abrupt("return",o(e));case 4:case"end":return t.stop()}},t)})),k.apply(this,arguments)}function A(t){return I.apply(this,arguments)}function I(){return I=(0,u.default)(r.default.mark(function t(e){var a;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,c.default)("".concat("https://api-prod.yi-ll.com/yiboss","/").concat("v1","/role/").concat(e));case 2:return a=t.sent,t.abrupt("return",o(a));case 4:case"end":return t.stop()}},t)})),I.apply(this,arguments)}}}]);