(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[69],{ilPF:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("J+/v");var l=n(a("MoRW"));a("IzEo");var c=n(a("bx4M"));a("g9YV");var d=n(a("wCAj"));a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("iQDF");var s=n(a("+eQT"));a("2qtc");var u=n(a("kLXV"));a("MXD1");var f=n(a("CFYs"));a("T2oS");var p=n(a("W9HT"));a("+L6B");var m=n(a("2/Rp"));a("5Dmo");var y=n(a("3S7+"));a("Pwec");var g=n(a("CtXQ"));a("+BJd");var v=n(a("mr32")),h=n(a("lwsE")),w=n(a("W8MJ")),E=n(a("a1gu")),k=n(a("Nsbk")),S=n(a("7W2i")),b=n(a("MVZn"));a("y8nQ");var R,x,T,C,D=n(a("Vl3Y")),I=r(a("q1tI")),L=a("MuoO"),M=n(a("wd/R")),F=n(a("HZnN")),N=n(a("ufQ4")),Y=n(a("zHco")),z=n(a("s2ei")),B=D.default.Item,H=(R=(0,L.connect)(function(e){var t=e.synctransfer,a=e.loading,n=e.user;return(0,b.default)({},t,{currentUser:n.currentUser,loading:a.effects["synctransfer/page"],syncLoing:a.effects["synctransfer/sync"]})}),x=F.default.Secured("/config/synctransfer"),T=D.default.create(),R(C=x(C=(0,N.default)(C=T(C=function(e){function t(){var e,a;(0,h.default)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=(0,E.default)(this,(e=(0,k.default)(t)).call.apply(e,[this].concat(r))),a.columns=[{title:"\u5361\u6e90",dataIndex:"id",width:220,className:"".concat(z.default.clickRowStyle0),render:function(e,t,n){var r=a.props.currentUser,l=r&&r.entCode&&1===r.entCode.length,c=l?4:3,d=t.cName,o=t.enterpriseName,i=l&&o,s=i?I.default.createElement(v.default,{color:"green"},o):"",u=i?I.default.createElement("span",null,I.default.createElement("br",null)):"",f={children:I.default.createElement("span",null,d,u,s),props:{}};return(n+1)%c!==1&&(f.props.colSpan=0),f.props.rowSpan=c,f}},{title:"\u7c7b\u578b",dataIndex:"comId",width:180,render:function(e,t){var n=t.syncType,r=t.syncTypeTxt,l=a.props.syncLoing,c="\u3010\u5b9e\u65f6\u72b6\u6001\u3011\u5305\u62ec\uff1a\u5361\u72b6\u6001\u7b49",d="cyan";return 2===n&&(c="\u3010\u9759\u6001\u6570\u636e\u3011\u5305\u62ec\uff1a\u4e09\u7801\uff08Msisdn,Iccid,Imsi\uff09\u3001\u5f00\u6237\u65e5\u671f\u3001\u6fc0\u6d3b\u65e5\u671f\u7b49",d="volcano"),3===n&&(c="\u3010\u5b9e\u65f6\u6570\u636e\u3011\u5305\u62ec\uff1a\u5df2\u7528\u6d41\u91cf\u3001\u5957\u9910\u6d41\u91cf\u3001\u5df2\u7528\u77ed\u4fe1\u3001\u5957\u9910\u77ed\u4fe1\u3001\u5df2\u7528\u8bed\u97f3\u3001,\u5957\u9910\u8bed\u97f3\u3001\u6570\u636e\u65e5\u671f\u7b49",d="green"),4===n&&(c="\u3010\u5b9e\u65f6\u6570\u636e\u3011\u5305\u62ec\uff1a\u5df2\u7528\u6d41\u91cf\u3001\u5957\u9910\u6d41\u91cf\u3001\u5df2\u7528\u77ed\u4fe1\u3001\u5957\u9910\u77ed\u4fe1\u3001\u5df2\u7528\u8bed\u97f3\u3001,\u5957\u9910\u8bed\u97f3\u3001\u6570\u636e\u65e5\u671f\u7b49",d="geekblue"),I.default.createElement("div",null,I.default.createElement(v.default,{color:d},r),I.default.createElement(y.default,{title:c},I.default.createElement(g.default,{type:"question-circle-o"})),"\xa0\xa0",I.default.createElement(m.default,{loading:l,icon:"cloud-sync",title:"\u70b9\u51fb\u5f00\u59cb\u540c\u6b65-".concat(r),type:"primary",ghost:!0,size:"small",onClick:function(){return a.syncData(e,n,r)}},"\u540c\u6b65"))}},{title:"\u5f00\u59cb",width:150,dataIndex:"beginTime",render:function(e){return e||"--"}},{title:"\u7ed3\u675f",width:150,dataIndex:"endTime",render:function(e,t){var a=e||I.default.createElement("div",null,I.default.createElement(p.default,{size:"small"}),"\xa0\xa0\u540c\u6b65\u4e2d...");return t.beginTime||(a="--"),a}},{title:"\u8017\u65f6",width:100,dataIndex:"duration",render:function(e){return e||"--"}},{title:"\u8fdb\u5ea6",dataIndex:"percentage",width:150,render:function(e){return I.default.createElement("div",{style:{marginRight:15}},I.default.createElement(f.default,{strokeColor:{from:"#108ee9",to:"#87d068"},percent:e,status:"active"}))}},{title:"\u6210\u529f/\u603b\u6570",dataIndex:"total",render:function(e,t){var a=t.success;return I.default.createElement("span",null,a,"/",e)}},{title:"\u66f4\u65b0",width:150,dataIndex:"updateTime",render:function(e,t){var a=e;return t.beginTime||(a="--"),a}},{title:"\u6570\u636e\u65e5\u671f",width:120,dataIndex:"dataTime",render:function(e){return e?(0,M.default)(e).format("YYYY-MM-DD"):"--"}}],a.loadData=function(e){var t=a.props,n=t.dispatch,r=t.currentUser,l=4===r.entCode.length?r.enterprise:null;n({type:"synctransfer/page",payload:(0,b.default)({},e,{enterprise:l})||{date:null,enterprise:l}})},a.syncData=function(e,t,n){u.default.confirm({title:"\u540c\u6b65",content:"\u786e\u5b9a\u540c\u6b65".concat(n,"\u6570\u636e\u5417\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var n=a.props.dispatch;n({type:"synctransfer/sync",payload:{comId:e,syncType:t}})}})},a.handleFormReset=function(){var e=a.props.form;e.resetFields(),a.loadData()},a.handleSearch=function(e){e.preventDefault();var t=a.props.form;t.validateFields(function(e,t){if(!e){var n=t.date?"".concat(t.date.format("YYYY-MM-DD HH:mm:ss")):null,r=(0,b.default)({},t,{date:n});a.loadData(r)}})},a.setRowClassName=function(e){return 1===e.syncType?z.default.clickRowStyle1:2===e.syncType?z.default.clickRowStyle2:3===e.syncType?z.default.clickRowStyle3:z.default.clickRowStyle4},a}return(0,S.default)(t,e),(0,w.default)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"renderSearchForm",value:function(){var e=this.props.form.getFieldDecorator;return I.default.createElement(D.default,{onSubmit:this.handleSearch,layout:"inline"},I.default.createElement(o.default,{gutter:{md:8,lg:24,xl:48}},I.default.createElement(i.default,{md:8,sm:8},I.default.createElement(B,{label:"\u65f6\u95f4"},e("date")(I.default.createElement(s.default,{placeholder:"\u65f6\u95f4"})))),I.default.createElement(i.default,{md:8,sm:8},I.default.createElement("span",{className:z.default.submitButtons},I.default.createElement(m.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),I.default.createElement(m.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),I.default.createElement(v.default,{style:{marginLeft:8},color:"green"},"\u6700\u8fd1\u4e00\u6b21\u6570\u636e\u540c\u6b65\u4fe1\u606f")))))}},{key:"render",value:function(){var e=this.props,t=e.syncDatas,a=e.loading,n=e.currentUser,r=n&&n.entCode&&n.entCode.length<=4,o=n&&n.entCode&&1===n.entCode.length,i=o?12:9,s={defaultPageSize:i,total:t.length||0,pageSize:i,showTotal:function(e,t){return"\u5f53\u524d\uff1a".concat(t[0],"-").concat(t[1],"  \u603b\u6570\uff1a").concat(e)}};return I.default.createElement(Y.default,null,r?I.default.createElement(c.default,{bordered:!1},I.default.createElement("div",{className:z.default.tableList},I.default.createElement("div",{className:z.default.tableListOperator},this.renderSearchForm()),I.default.createElement(d.default,{loading:a,pagination:s,columns:this.columns,dataSource:t,bordered:!0,rowClassName:this.setRowClassName,size:"middle"}))):I.default.createElement(l.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),t}(I.PureComponent))||C)||C)||C)||C),J=H;t.default=J},s2ei:function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-config\\-sync-transfer\\index-tableList",tableListOperator:"antd-pro\\pages\\-config\\-sync-transfer\\index-tableListOperator",tableListForm:"antd-pro\\pages\\-config\\-sync-transfer\\index-tableListForm",submitButtons:"antd-pro\\pages\\-config\\-sync-transfer\\index-submitButtons",clickRowStyle0:"antd-pro\\pages\\-config\\-sync-transfer\\index-clickRowStyle0",clickRowStyle1:"antd-pro\\pages\\-config\\-sync-transfer\\index-clickRowStyle1",clickRowStyle2:"antd-pro\\pages\\-config\\-sync-transfer\\index-clickRowStyle2",clickRowStyle3:"antd-pro\\pages\\-config\\-sync-transfer\\index-clickRowStyle3",clickRowStyle4:"antd-pro\\pages\\-config\\-sync-transfer\\index-clickRowStyle4"}}}]);