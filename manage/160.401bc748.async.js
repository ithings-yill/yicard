(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[160],{"9Z7E":function(e,a,t){"use strict";var r=t("TqRt"),l=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var s=r(t("bx4M"));t("+L6B");var u=r(t("2/Rp"));t("5NDa");var n=r(t("5rEg"));t("7Kak");var d=r(t("9yH6"));t("OaEy");var o=r(t("2fM7")),f=r(t("pVnL")),i=r(t("MVZn")),m=r(t("lwsE")),g=r(t("W8MJ")),p=r(t("a1gu")),c=r(t("Nsbk")),M=r(t("7W2i"));t("y8nQ");var b,v,h,y,E,I=r(t("Vl3Y")),C=l(t("q1tI")),k=t("LLXN"),q=r(t("HZnN")),w=t("MuoO"),L=r(t("usdK")),V=r(t("6v3/")),R=r(t("zHco")),S=r(t("ufQ4")),B=I.default.Item,D=(b=(0,w.connect)(function(e){var a=e.userManager,t=e.loading;return{roles:a.roles,userInfo:a.userInfo,submitting:t.effects["userManager/put"],roleLoading:t.effects["userManager/getrole"],userLoading:t.effects["userManager/get"]}}),v=q.default.Secured("/baseManager/userManager/edit/:id"),h=I.default.create(),b(y=(0,S.default)(y=v(y=h((E=function(e){function a(){var e,t;(0,m.default)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return t=(0,p.default)(this,(e=(0,c.default)(a)).call.apply(e,[this].concat(l))),t.onChange=function(e){var a=t.props,r=a.dispatch,l=a.form;l.setFieldsValue({role:[]}),r({type:"userManager/getrole",payload:e})},t.handleSubmit=function(e){var a=t.props,r=a.form,l=a.dispatch,s=a.userInfo;e.preventDefault(),r.validateFieldsAndScroll(function(e,a){if(!e){var t=(0,i.default)({},s,a);l({type:"userManager/put",payload:t})}})},t.onCancel=function(){L.default.goBack()},t}return(0,M.default)(a,e),(0,g.default)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.dispatch,r=a.match,l=r.params.id;l&&t({type:"userManager/get",payload:l}).then(function(){var a=e.props.userInfo;t({type:"userManager/getrole",payload:a.entCode})})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"userManager/clearData"})}},{key:"render",value:function(){var e=this.props,a=e.form.getFieldDecorator,t=e.submitting,r=e.roleLoading,l=e.roles,i=void 0===l?[]:l,m=e.userInfo,g={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},p={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}};return C.default.createElement(R.default,null,C.default.createElement(s.default,{bordered:!1},C.default.createElement(I.default,{onSubmit:this.handleSubmit,style:{marginTop:8}},C.default.createElement(B,(0,f.default)({},g,{label:(0,k.formatMessage)({id:"user.edit.formItem.label.organization",defaultMessage:"\u5f52\u5c5e\u7ec4\u7ec7"})}),a("entCode",{initialValue:m.entCode,rules:[{required:!0,message:(0,k.formatMessage)({id:"user.edit.formItem.label.organizationRequired",defaultMessage:"\u5f52\u5c5e\u7ec4\u7ec7\u5fc5\u586b"})}]})(C.default.createElement(V.default,{onChange:this.onChange}))),C.default.createElement(B,(0,f.default)({},g,{label:(0,k.formatMessage)({id:"user.edit.formItem.label.role",defaultMessage:"\u5f52\u5c5e\u89d2\u8272"})}),a("role",{initialValue:m.role,rules:[{required:!0,message:(0,k.formatMessage)({id:"user.edit.formItem.label.roleRequired",defaultMessage:"\u5f52\u5c5e\u89d2\u8272\u5fc5\u586b"})}]})(C.default.createElement(o.default,{placeholder:(0,k.formatMessage)({id:"user.edit.formItem.selectRole",defaultMessage:"\u8bf7\u9009\u62e9"}),loading:r,mode:"multiple"},i.map(function(e){return C.default.createElement(o.default.Option,{key:e.id,value:e.id},e.name)})))),C.default.createElement(B,(0,f.default)({},g,{label:(0,k.formatMessage)({id:"user.eidt.formItem.radio.status",defaultMessage:"\u72b6\u6001"})}),a("status",{initialValue:m.status,rules:[{required:!0,message:(0,k.formatMessage)({id:"user.eidt.formItem.radio.statusRequired",defaultMessage:"\u72b6\u6001\u5fc5\u586b"})}]})(C.default.createElement(d.default.Group,{buttonStyle:"solid"},C.default.createElement(d.default.Button,{value:0},(0,k.formatMessage)({id:"user.eidt.formItem.radio.status.enable",defaultMessage:"\u542f\u7528"})),C.default.createElement(d.default.Button,{value:1},(0,k.formatMessage)({id:"user.eidt.formItem.radio.status.forbidden",defaultMessage:"\u7981\u7528"}))))),C.default.createElement(B,(0,f.default)({},g,{label:(0,k.formatMessage)({id:"user.edit.formItem.label.name",defaultMessage:"\u663e\u793a\u540d\u79f0"})}),a("name",{initialValue:m.name,rules:[{required:!0,message:(0,k.formatMessage)({id:"user.edit.formItem.label.nameRequired",defaultMessage:"\u663e\u793a\u540d\u79f0\u5fc5\u586b"})}]})(C.default.createElement(n.default,{placeholder:(0,k.formatMessage)({id:"user.edit.formItem.input.pleaseinput",defaultMessage:"\u8bf7\u8f93\u5165"})}))),C.default.createElement(B,(0,f.default)({},p,{style:{marginTop:32}}),C.default.createElement(u.default,{type:"primary",htmlType:"submit",loading:t},(0,k.formatMessage)({id:"user.edit.formItem.button.sumbit",defaultMessage:"\u63d0\u4ea4"})),C.default.createElement(u.default,{style:{marginLeft:8},onClick:this.onCancel},(0,k.formatMessage)({id:"user.edit.formItem.button.goBack",defaultMessage:"\u8fd4\u56de"}))))))}}]),a}(C.Component),y=E))||y)||y)||y)||y),x=D;a.default=x}}]);