(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[70],{HN4J:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("jehZ"));a("5NDa");var l=r(a("5rEg"));a("14J3");var d=r(a("BMrR"));a("+L6B");var o=r(a("2/Rp"));a("jCWc");var i=r(a("kPKH"));a("+BJd");var s=r(a("mr32"));a("5Dmo");var u=r(a("3S7+"));a("Pwec");var c=r(a("CtXQ")),p=r(a("2Taf")),f=r(a("vZ4D")),m=r(a("rlhR")),g=r(a("MhPg")),v=r(a("l4Ni")),h=r(a("ujKo")),y=r(a("p0pE"));a("y8nQ");var E=r(a("Vl3Y"));a("2qtc");var S,b,C,w,x=r(a("kLXV")),k=O(a("q1tI")),M=r(a("KLZ9")),N=r(a("HZnN")),z=a("MuoO"),I=r(a("ufQ4")),D=r(a("+b2g")),V=r(a("s98B"));function F(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(F=function(e){return e?a:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=F(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var d=n?Object.getOwnPropertyDescriptor(e,l):null;d&&(d.get||d.set)?Object.defineProperty(r,l,d):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}function B(e){var t=L();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,v.default)(this,a)}}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var T=x.default.confirm,R=E.default.Item,j=(S=E.default.create(),b=(0,z.connect)(function(e){var t=e.user,a=e.servicepassword,r=e.loading;return(0,y.default)({currentUser:t.currentUser},a,{loading:r.effects["servicepassword/page"]})}),C=N.default.Secured("/helpservice/servicepassword"),(0,I.default)(w=S(w=b(w=C(w=function(e){(0,g.default)(a,e);var t=B(a);function a(e){var r;return(0,p.default)(this,a),r=t.call(this,e),r.columns=[{title:"\u5ba2\u6237",dataIndex:"enterpriseName",width:250},{title:"\u5bc6\u7801",dataIndex:"password",width:80},{title:k.default.createElement("span",null,"\u9009\u9879\xa0",k.default.createElement(u.default,{title:"\u9002\u7528\u9a8c\u8bc1\u9009\u9879\uff1a\u77ed\u4fe1=\u9002\u7528\u77ed\u4fe1\u6536\u53d1\u3001\u67e5\u770b\u65f6\u9a8c\u8bc1\uff1b\u767d\u540d\u5355=\u9002\u7528\u767d\u540d\u5355\u8bbe\u7f6e\u65f6\u9a8c\u8bc1\uff1b\u5168\u90e8\uff08\u5305\u62ec\u77ed\u4fe1\u3001\u767d\u540d\u5355\uff09"},k.default.createElement(c.default,{type:"question-circle-o"}))),dataIndex:"optionTxt",width:80},{title:"\u65f6\u95f4",dataIndex:"updateTime",width:180},{title:"\u64cd\u4f5c",dataIndex:"id",width:80,render:function(e,t){return k.default.createElement("a",{onClick:function(){return r.delOption(t)}},"\u5220\u9664")}}],r.loadData=function(e){var t=r.props.dispatch;t({type:"servicepassword/page",payload:e})},r.delOption=function(e){x.default.confirm({title:"\u5220\u9664\u670d\u52a1\u5bc6\u7801",content:"\u786e\u5b9a\u5220\u9664\u3010".concat(e.enterpriseName,"\u3011\u670d\u52a1\u5bc6\u7801\u5417\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return r.deleteItem(e)}})},r.deleteItem=function(e){var t=r.props,a=t.dispatch,n=t.currentUser,l=r.state,d=l.pageSize,o=l.entCode;a({type:"servicepassword/del",payload:{entCode:o||n.entCode,id:e.id,pageIndex:0,pageSize:d}})},r.handleStandardTableChange=function(e){var t=r.props.currentUser,a=r.state,n=a.formValues,l=a.entCode;r.setState({pageSize:e.pageSize});var d=(0,y.default)({pageIndex:e.current-1,pageSize:e.pageSize,entCode:l||t.entCode},n);r.loadData(d)},r.onSelect=function(e,t){t&&t.selectedNodes&&t.selectedNodes.length>0&&r.setState({selectEnterpriseName:t.selectedNodes[0].props.title,enterprise:t.selectedNodes[0].props.dataRef.id}),r.setState({entCode:e[0]});var a=r.state.pageSize,n=r.props.currentUser;r.loadData({pageIndex:0,pageSize:a,entCode:e[0]||n.entCode})},r.handleFormReset=function(){var e=r.props,t=e.form,a=e.currentUser;t.resetFields(),r.setState({formValues:{}});var n=r.state.pageSize;r.loadData({pageIndex:0,pageSize:n,entCode:a.entCode,enterprise:a.enterprise})},r.handleSearch=function(e){e.preventDefault();var t=r.props,a=t.form,n=t.currentUser,l=r.state.pageSize;a.validateFields(function(e,t){if(!e){var a=(0,y.default)({},t,{pageIndex:0,pageSize:l,entCode:n.entCode});r.setState({formValues:t}),r.loadData(a)}})},r.handleExport=function(e){e.preventDefault();var t=r.props,a=t.dispatch,n=t.form,l=t.currentUser,d=r.state.pageSize;n.validateFields(function(e,t){if(!e){r.setState({exporting:!0});var n=(0,y.default)({},t,{pageIndex:0,pageSize:d,entCode:l.entCode,downTask:!0});r.setState({formValues:t}),a({type:"servicepassword/page",payload:n}).then(function(){r.setState({exporting:!1})})}})},r.handleModalVisible=function(){r.setState({updateModalVisible:!1})},r.showModal=function(){r.setState({updateModalVisible:!0})},r.handleAdd=function(e){var t=(0,m.default)(r),a=r.state,n=a.enterprise,l=a.entCode,d=a.pageSize;if(e){var o={password:e.password,destType:e.destType,enterprise:n,entCode:l};T({okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",title:"\u786e\u5b9a\u8bbe\u7f6e\u670d\u52a1\u5bc6\u7801?",onOk:function(){t.handleModalVisible();var e=t.props.dispatch;e({type:"servicepassword/add",payload:o}).then(function(){t.loadData({pageIndex:0,pageSize:d,entCode:l})})}})}},r.state={formValues:{},pageSize:10,entCode:void 0,exporting:!1,selectEnterpriseName:void 0,updateModalVisible:!1,enterprise:void 0},r}return(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.currentUser;this.setState({entCode:e.entCode,selectEnterpriseName:e.enterpriseName,enterprise:e.enterprise})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.exporting,r=t.selectEnterpriseName;return k.default.createElement("div",{style:{marginLeft:10,paddingBottom:10}},k.default.createElement("div",{style:{marginBottom:10,paddingTop:20,backgroundColor:"#FFFBE5",border:"1px solid",borderColor:"#FDCC9B"}},k.default.createElement("div",null,k.default.createElement("p",null,k.default.createElement(s.default,{style:{marginLeft:30},color:"#f50"},"\u8bf4\u660e\uff1a\u670d\u52a1\u5bc6\u7801\u4ec5\u9002\u7528\u5ba2\u6237\u76f4\u5c5e\u7684\u5361")),k.default.createElement("p",null,k.default.createElement(s.default,{style:{marginLeft:30},color:"magenta"},"\u670d\u52a1\u5bc6\u7801\u8bbe\u7f6e\u6d41\u7a0b\uff1a")),k.default.createElement("p",null,k.default.createElement(s.default,{style:{marginLeft:60},color:"magenta"},"1\u3001\u8bf7\u5728\u5de6\u8fb9\u3010\u5ba2\u6237\u6811\u5217\u3011\u4e2d\u3010\u9009\u4e2d\u3011\u8981\u64cd\u4f5c\u7684\u3010\u76ee\u6807\u5ba2\u6237\u3011")),k.default.createElement("p",null,k.default.createElement(s.default,{style:{marginLeft:60},color:"magenta"},"2\u3001\u70b9\u51fb\u3010\u53f3\u8fb9\u3011\u6309\u94ae\u3010\u8bbe\u7f6e\u670d\u52a1\u5bc6\u7801\u3011")),k.default.createElement("p",null,k.default.createElement(s.default,{style:{marginLeft:60},color:"magenta"},"3\u3001\u4e0a\u7ea7\u53ef\u4ee5\u7ed9\u81ea\u5df1\u3001\u76f4\u5c5e\u4e0b\u7ea7\u5ba2\u6237\u6216\u6240\u6709\u4e0b\u7ea7\u5ba2\u6237\u8bbe\u7f6e\uff1b\u4e0b\u7ea7\u5ba2\u6237\u4e5f\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e"))),k.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48},style:{marginLeft:5}},k.default.createElement(i.default,{md:12,sm:24},k.default.createElement(R,{label:"\u76ee\u6807\u5ba2\u6237"},r)),k.default.createElement(i.default,{md:12,sm:24},k.default.createElement(o.default,{type:"primary",onClick:this.showModal},"\u8bbe\u7f6e\u670d\u52a1\u5bc6\u7801")))),k.default.createElement(E.default,{onSubmit:this.handleSearch,layout:"inline"},k.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48}},k.default.createElement(i.default,{md:12,sm:24},k.default.createElement(R,{label:"\u5ba2\u6237"},e("enterpriseName")(k.default.createElement(l.default,{style:{maxWidth:300},placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237",allowClear:!0})))),k.default.createElement(i.default,{md:12,sm:24},k.default.createElement("span",{className:V.default.submitButtons},k.default.createElement(o.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),k.default.createElement(o.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),k.default.createElement(o.default,{style:{marginLeft:8},type:"primary",icon:"file-excel",loading:a,onClick:this.handleExport},"\u5bfc\u51fa\u5168\u90e8"))))))}},{key:"render",value:function(){var e=this.props,t=e.pageData,a=e.loading,r=e.currentUser,l=this.state,d=l.updateModalVisible,o=l.selectEnterpriseName,i={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible},s={onSelect:this.onSelect,defaultSelectedKeys:[r.entCode]},u={scrollX:800,rowKey:"id",columns:this.columns,data:t,onChange:this.handleStandardTableChange,loading:a,size:"small"};return k.default.createElement("div",null,k.default.createElement("div",null,k.default.createElement(M.default,{entpriseInit:s,SearchForm:this.renderSimpleForm(),tableInit:u})),k.default.createElement(D.default,(0,n.default)({},i,{entName:o,modalVisible:d})))}}]),a}(k.Component))||w)||w)||w)||w),P=j;t.default=P},s98B:function(e,t,a){e.exports={tableListForm:"antd-pro\\pages\\-help-service\\-service-password\\index-tableListForm",submitButtons:"antd-pro\\pages\\-help-service\\-service-password\\index-submitButtons",tableAlert:"antd-pro\\pages\\-help-service\\-service-password\\index-tableAlert"}}}]);