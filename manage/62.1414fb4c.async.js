(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[62],{jKZR:function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-config\\-e-c-config\\index-tableList",tableListOperator:"antd-pro\\pages\\-config\\-e-c-config\\index-tableListOperator",tableListForm:"antd-pro\\pages\\-config\\-e-c-config\\index-tableListForm",submitButtons:"antd-pro\\pages\\-config\\-e-c-config\\index-submitButtons"}},wkD6:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("J+/v");var l=n(a("MoRW"));a("IzEo");var r=n(a("bx4M"));a("qVdP");var c=n(a("jsC+"));a("Pwec");var o=n(a("CtXQ"));a("+L6B");var d=n(a("2/Rp"));a("lUTK");var i=n(a("BvKs")),u=n(a("p0pE"));a("2qtc");var f=n(a("kLXV"));a("/zsF");var s=n(a("PArb"));a("Awhp");var p=n(a("KrTs")),g=n(a("2Taf")),h=n(a("vZ4D")),m=n(a("MhPg")),v=n(a("l4Ni")),y=n(a("ujKo"));a("y8nQ");var b,k,E,w,C=n(a("Vl3Y")),x=L(a("q1tI")),I=a("MuoO"),O=n(a("3a4m")),S=n(a("8WVO")),R=n(a("HZnN")),M=n(a("zHco")),D=n(a("ufQ4")),j=n(a("jKZR"));function P(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=l?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(n,r,c):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function z(e){var t=T();return function(){var a,n=(0,y.default)(e);if(t){var l=(0,y.default)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return(0,v.default)(this,a)}}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var V=["","\u542f\u7528","\u7981\u7528"],K=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},B=(b=(0,I.connect)(function(e){var t=e.ecconfig,a=e.loading;return{pageData:t.pageData,delData:t.delData,pageConfigLoading:a.effects["ecconfig/pageConfig"],delConfigLoading:a.effects["ecconfig/delConfig"]}}),k=R.default.Secured("/config/ecconfig"),E=C.default.create(),b(w=(0,D.default)(w=k(w=E(w=function(e){(0,m.default)(a,e);var t=z(a);function a(){var e;(0,g.default)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),e.state={selectedRows:[],formValues:{},pageIndex:1,pageSize:10},e.columns=[{title:"\u8fd0\u8425\u5546",dataIndex:"oType",render:function(e,t){var a="";return 1===e&&(a="\u79fb\u52a8\u3010".concat(1===t.version?"EC":"\u65b0EC","\u3011")),2===e&&(a="\u8054\u901a\u3010".concat(1===t.version?"Jasper":"NB","\u3011")),3===e&&(a="\u7535\u4fe1\u3010".concat(1===t.version?"DCP":"CMP","\u3011")),x.default.createElement("span",null,a)}},{title:"\u96c6\u56e2\u540d\u79f0",dataIndex:"cName"},{title:"\u8d26\u53f7",dataIndex:"uId"},{title:"\u5bc6\u7801",dataIndex:"pwd"},{title:"\u72b6\u6001",dataIndex:"state",render:function(e){return x.default.createElement("span",null,x.default.createElement(p.default,{status:1===e?"success":"error"}),V[e])}},{title:"\u64cd\u4f5c",render:function(t,a){var n=e.props.location.pathname;return x.default.createElement(x.Fragment,null,x.default.createElement(R.default,{authority:[n,"edit"]},x.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible("edit",a)}},"\u914d\u7f6e")),x.default.createElement(R.default,{authority:[n,"delete"]},x.default.createElement(s.default,{type:"vertical"}),x.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible("del",a)}},"\u5220\u9664")))}}],e.loadData=function(){var t=e.state,a=t.pageIndex,n=t.pageSize,l=e.props.dispatch;l({type:"ecconfig/pageConfig",payload:{pageIndex:a,pageSize:n}})},e.deleteItem=function(t){var a=e.props,n=a.dispatch,l=a.pageData,r=e.state,c=r.pageSize,o=r.pageIndex,d=o,i=l.list.length;1===i&&o>1&&(d-=1),n({type:"ecconfig/delConfig",payload:{id:t.id,pageIndex:d,pageSize:c},callback:function(){}})},e.handleUpdateModalVisible=function(t,a){switch(t){case"del":f.default.confirm({title:"\u5220\u9664\u914d\u7f6e",content:"\u786e\u5b9a\u5220\u9664\u8be5\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return e.deleteItem(a)}});break;case"edit":O.default.push("/config/ecconfig/edit/".concat(a.id));break;default:break}},e.handleStandardTableChange=function(t,a,n){var l=e.props.dispatch,r=e.state.formValues,c=Object.keys(a).reduce(function(e,t){var n=(0,u.default)({},e);return n[t]=K(a[t]),n},{});e.setState({pageIndex:t.current}),e.setState({pageSize:t.pageSize});var o=(0,u.default)({pageIndex:t.current,pageSize:t.pageSize},r,c);n.field&&(o.sorter="".concat(n.field,"_").concat(n.order)),l({type:"ecconfig/pageConfig",payload:o})},e.handleMenuClick=function(t){var a=e.props.dispatch,n=e.state.selectedRows;if(n)switch(t.key){case"remove":a({type:"ecconfig/delConfig",payload:{key:n.map(function(e){return e.key})},callback:function(){}});break;default:break}},e.handleSelectRows=function(t){e.setState({selectedRows:t})},e.handleAdd=function(){O.default.push("/config/ecconfig/add")},e}return(0,h.default)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props,a=t.pageData,n=t.loading,u=t.location.pathname,f=this.props.currentUser,s=f&&f.entCode&&f.entCode.length<=4,p=this.state.selectedRows,g=x.default.createElement(i.default,{onClick:this.handleMenuClick,selectedKeys:[]},x.default.createElement(i.default.Item,{key:"remove"},"\u5220\u9664"));return x.default.createElement(M.default,null,s?x.default.createElement(r.default,{bordered:!1},x.default.createElement("div",{className:j.default.tableList},x.default.createElement("div",{className:j.default.tableListOperator},x.default.createElement(R.default,{authority:[u,"add"]},x.default.createElement(d.default,{icon:"plus",type:"primary",onClick:function(){return e.handleAdd()}},"\u65b0\u5efa")),x.default.createElement(d.default,{style:{marginLeft:8},icon:"reload",shape:"circle",onClick:this.loadData}),p.length>0&&x.default.createElement("span",null,x.default.createElement(d.default,null,"\u6279\u91cf\u64cd\u4f5c"),x.default.createElement(c.default,{overlay:g},x.default.createElement(d.default,null,"\u66f4\u591a\u64cd\u4f5c ",x.default.createElement(o.default,{type:"down"}))))),x.default.createElement(S.default,{scrollX:1e3,rowKey:"id",selectedRows:p,loading:n,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))):x.default.createElement(l.default,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u975e\u5361\u5546\u7ba1\u7406\u5458\uff0c\u4f60\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762"}))}}]),a}(x.PureComponent))||w)||w)||w)||w),N=B;t.default=N}}]);